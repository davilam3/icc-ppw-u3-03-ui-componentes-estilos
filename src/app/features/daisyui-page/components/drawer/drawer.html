<div class="drawer"> 
    <input id="my-drawer-2"
     type="checkbox" 
     class="drawer-toggle" 
    />
    <div class="drawer-content flex flex-col"> 
        <!-- Navbar Desktop/Mobile -->
        <div class="navbar bg-base-300 w-full"> 
            <!-- Bot贸n hamburguesa (solo m贸vil) -->
            <div class="flex-none lg:hidden"> 
                <label for="my-drawer-2" 
                aria-label="open sidebar"
                class="btn btn-square btn-ghost">
                <svg xmlns="http://www.w3.org/2000/svg" 
                fill="none"
                viewBox="0 0 24 24" 
                class="inline-block h-6 w-6 stroke-current">
                        
                <path 
                stroke-linecap="round" 
                stroke-linejoin="round" 
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg> </label> </div> 
                    
                    <!-- rea de usuario/login -->
            <div class="mx-2 flex-1">
                <div class="flex items-center gap-3 "> 
                    
                    <!-- Mostrar bot贸n login si NO est谩 autenticado --> @if
                    (!isAuthenticated()) { <button (click)="navigateToLogin()" class="btn btn-primary">  Iniciar
                        Sesi贸n </button> } 
                    
                       <!-- Mostrar email si est谩 autenticado -->
                    <!-- Mostrar dropdown de usuario si est谩 autenticado -->
                      @if (isAuthenticated() && currentUser()) {
                    <div class="dropdown dropdown-end"> 
                        <!-- Avatar con trigger --> <label tabindex="0"
                            class="btn btn-ghost btn-circle avatar">
                            <div
                                class="w-10 rounded-full bg-primary text-primary-content flex items-center justify-center">
                                <span class="text-lg font-bold"> {{ currentUser()?.email?.charAt(0)?.toUpperCase() }}
                                </span>
                            </div>
                        </label> 
                        <!-- Men煤 desplegable -->
                        <ul tabindex="0"
                            class="mt-3 z-1 p-2 shadow menu menu-sm dropdown-content bg-base-100 rounded-box w-56">
                            <!-- Email del usuario -->
                            <li class="menu-title"> <span class="text-xs">{{ currentUser()?.email }}</span> </li>
                            <div class="divider my-0"></div> <!-- Bot贸n de logout -->
                            <li> <button (click)="logout()" class="btn btn-error btn-sm w-full text-left">
                                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none"
                                        viewBox="0 0 24 24" stroke="currentColor">
                                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                            d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                                    </svg> Cerrar Sesi贸n </button> </li>
                        </ul>
                    </div> }
                </div> 
                <!-- Men煤 de navegaci贸n (solo desktop) -->
                <div class="hidden  lg:block">
                    <ul class="menu menu-horizontal hidden lg:flex ml-auto"> <!-- Bot贸n Estilos -->
                        <li> @if (isAuthenticated()) { <!-- Habilitado si est谩 autenticado --> <a routerLink="/estilos"
                                routerLinkActive="bg-primary text-primary-content"> Estilos </a> } @else {
                            <!-- Deshabilitado si NO est谩 autenticado --> <a
                                class="btn-disabled opacity-50 cursor-not-allowed"> Estilos  </a> }
                        </li>
                        <!-- Bot贸n Simpsons - Solo visible si est谩 autenticado --> @if (isAuthenticated()) { <li> <a
                                routerLink="/simpsons" routerLinkActive="bg-primary text-primary-content"> Simpsons </a>
                        </li> } <!-- Bot贸n Home -->
                        <li> <a routerLink="/home" routerLinkActive="bg-primary text-primary-content"> Home </a> </li>
                        <app-theme-switcher></app-theme-switcher>
                    </ul> 
                </div>
            </div>
        </div> <!-- Drawer Sidebar (m贸vil) -->
        <div class="drawer-side"> <label for="my-drawer-2" aria-label="close sidebar" class="drawer-overlay"></label>
            <div class="flex flex-col justify-between h-full bg-base-200 w-80"> <!-- Men煤 principal -->
                <ul class="menu menu-horizontal bg-base-200  w-80 p-4"> <!-- Bot贸n Estilos -->
                    <li> @if (isAuthenticated()) { <a routerLink="/estilos"
                            routerLinkActive="bg-primary text-primary-content"> Estilos </a> }
                        @else { <a class="btn-disabled opacity-50 cursor-not-allowed"> Estilos  </a> } </li>
                    <!-- Bot贸n Simpsons - Solo visible si est谩 autenticado --> @if (isAuthenticated()) { <li> <a
                            routerLink="/simpsons" routerLinkActive="bg-primary text-primary-content"> Simpsons </a>
                    </li> } <!-- Bot贸n Home -->
                    <li> <a routerLink="/home" routerLinkActive="bg-primary text-primary-content"> Home </a> </li>
                </ul> <!-- Secci贸n inferior del drawer -->
                <div class="mt-auto p-4 border-t border-base-300 space-y-3">
                    <!-- Informaci贸n de usuario si est谩 autenticado --> @if (isAuthenticated() && currentUser()) { <div
                        class="flex items-center gap-3 p-3 bg-base-300 rounded-lg">
                        <div class="avatar placeholder">
                            <div class="bg-primary text-primary-content w-10 rounded-full"> <span
                                    class="text-sm font-bold"> {{ currentUser()?.email?.charAt(0)?.toUpperCase() }}
                                </span> </div>
                        </div>
                        <div class="flex-1 min-w-0">
                            <p class="text-sm font-medium truncate"> {{ currentUser()?.email }} </p>
                        </div>
                    </div> <!-- Bot贸n de logout --> <button (click)="logout()" class="btn btn-error btn-sm w-full text-left"> <svg
                            xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24"
                            stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1" />
                        </svg> Cerrar Sesi贸n </button> } <!-- Theme Switcher -->
                    <app-theme-switcher></app-theme-switcher>
                </div>
            </div>
        </div>
    </div>
</div>

