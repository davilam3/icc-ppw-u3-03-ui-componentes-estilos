import{a as Yt,b as Ca,c as Pa,d as Oa,e as Xt,f as ka,g as It,h as Da,k as Qn,l as er,m as Na,n as Ma}from"./chunk-3GREFYWT.js";import{$a as pa,A as zn,Aa as Kn,B as Xe,C as vt,Ca as na,E as Hn,F as Me,Fa as Gt,G as Ri,Ga as ra,H as qo,Ha as Jn,I as X,Ia as ia,Ib as Ia,J as Wn,Ja as sa,Jb as _a,K as V,Ka as oa,L as Go,La as ki,Lb as wa,M as Ko,Ma as ue,Mb as Ta,N as T,Na as aa,Nb as ba,O as Si,Oa as ca,Ob as Ra,Pa as ua,Pb as Mi,Q as I,Qa as Yn,Qb as Xn,R as Wt,Ra as la,Rb as Sa,S as Jo,Sa as Kt,Sb as Zn,T as b,Ta as Jt,Tb as Aa,U as w,V as f,W as we,Wa as da,X as Yo,Xa as ha,Y as Z,Ya as Di,Z as M,Za as Ni,_a as fa,a as p,b as U,c as jo,ca as ce,d as $o,da as B,e as J,ea as Ze,f as Ye,fa as Xo,g as Y,ga as Qe,h as Vo,ha as j,i as Bo,ia as Ai,ib as ga,j as _e,ja as qn,k as Ii,l as _i,la as Te,m as wi,ma as yt,n as F,o as v,oa as be,ob as ma,p as zo,pa as et,q as Ti,qa as qt,r as Ho,ra as Gn,rb as va,s as k,sa as Zo,sb as ya,t as bi,ta as Ci,tb as Ea,u as ae,ua as Qo,v as Ht,va as Pi,w as Wo,wa as ea,x as Bn,xa as Et,ya as Oi,z as te,za as ta}from"./chunk-IHFSFQAP.js";var Zt=class{_doc;constructor(e){this._doc=e}manager},tr=(()=>{class n extends Zt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,s){return t.addEventListener(r,i,s),()=>this.removeEventListener(t,r,i,s)}removeEventListener(t,r,i,s){return t.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||n)(w(B))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),ir=new b(""),Fi=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(o=>{o.manager=this});let i=t.filter(o=>!(o instanceof tr));this._plugins=i.slice().reverse();let s=t.find(o=>o instanceof tr);s&&this._plugins.push(s)}addEventListener(t,r,i,s){return this._findPluginFor(r).addEventListener(t,r,i,s)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new T(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(w(ir),w(j))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Li="ng-app-id";function La(n){for(let e of n)e.remove()}function Ua(n,e){let t=e.createElement("style");return t.textContent=n,t}function Kl(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Li}="${e}"],link[${Li}="${e}"]`);if(i)for(let s of i)s.removeAttribute(Li),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&t.set(s.textContent,{usage:0,elements:[s]})}function xi(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var ji=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,Kl(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Ua);r?.forEach(i=>this.addUsage(i,this.external,xi))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let s=r.get(t);s?s.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(La(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])La(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Ua(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,xi(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(w(B),w(Pi),w(Oi,8),w(Et))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Ui={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$i=/%COMP%/g;var Fa="%COMP%",Jl=`_nghost-${Fa}`,Yl=`_ngcontent-${Fa}`,Xl=!0,Zl=new b("",{factory:()=>Xl});function Ql(n){return Yl.replace($i,n)}function ed(n){return Jl.replace($i,n)}function ja(n,e){return e.map(t=>t.replace($i,n))}var Vi=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,s,o,a,c=null,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.ngZone=a,this.nonce=c,this.tracingService=u,this.platformIsServer=!1,this.defaultRenderer=new Qt(t,o,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof rr?i.applyToHost(t):i instanceof en&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,d=this.platformIsServer,h=this.tracingService;switch(r.encapsulation){case Kn.Emulated:s=new rr(c,u,r,this.appId,l,o,a,d,h);break;case Kn.ShadowDom:return new nr(c,t,r,o,a,this.nonce,d,h,u);case Kn.ExperimentalIsolatedShadowDom:return new nr(c,t,r,o,a,this.nonce,d,h);default:s=new en(c,u,r,l,o,a,d,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(w(Fi),w(ji),w(Pi),w(Zl),w(B),w(j),w(Oi),w(Jn,8))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),Qt=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,s){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(Ui[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(xa(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(xa(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new T(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=Ui[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Ui[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(Gt.DashCase|Gt.Important)?e.style.setProperty(t,r,i&Gt.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Gt.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=Yt().getGlobalEventTarget(this.doc,e),!e))throw new T(5102,!1);let s=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,t,s)),this.eventManager.addEventListener(e,t,s,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function xa(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var nr=class extends Qt{hostEl;sharedStylesHost;shadowRoot;constructor(e,t,r,i,s,o,a,c,u){super(e,i,s,a,c),this.hostEl=t,this.sharedStylesHost=u,this.shadowRoot=t.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=ja(r.id,l);for(let h of l){let m=document.createElement("style");o&&m.setAttribute("nonce",o),m.textContent=h,this.shadowRoot.appendChild(m)}let d=r.getExternalStyles?.();if(d)for(let h of d){let m=xi(h,i);o&&m.setAttribute("nonce",o),this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},en=class extends Qt{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,s,o,a,c,u){super(e,s,o,a,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=u?ja(u,l):l,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ra.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},rr=class extends en{contentAttr;hostAttr;constructor(e,t,r,i,s,o,a,c,u){let l=i+"-"+r.id;super(e,t,r,s,o,a,c,u,l),this.contentAttr=Ql(l),this.hostAttr=ed(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var sr=class n extends Pa{supportsDOMEvents=!0;static makeCurrent(){Ca(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=td();return t==null?null:nd(t)}resetBaseElement(){tn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qn(document.cookie,e)}},tn=null;function td(){return tn=tn||document.head.querySelector("base"),tn?tn.getAttribute("href"):null}function nd(n){return new URL(n,document.baseURI).pathname}var rd=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),$a=["alt","control","meta","shift"],id={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Va=(()=>{class n extends Zt{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,s){let o=n.parseEventName(r),a=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yt().onAndCancel(t,o.domEventName,a,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),$a.forEach(u=>{let l=r.indexOf(u);l>-1&&(r.splice(l,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=id[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),$a.forEach(o=>{if(o!==i){let a=sd[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(w(B))};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function od(n,e,t){let r=p({rootComponent:n,platformRef:t?.platformRef},ad(e));return Sa(r)}function ad(n){return{appProviders:[...hd,...n?.providers??[]],platformProviders:dd}}function cd(){sr.makeCurrent()}function ud(){return new Ai}function ld(){return Qo(document),document}var dd=[{provide:Et,useValue:Na},{provide:ea,useValue:cd,multi:!0},{provide:B,useFactory:ld}];var hd=[{provide:Yo,useValue:"root"},{provide:Ai,useFactory:ud},{provide:ir,useClass:tr,multi:!0},{provide:ir,useClass:Va,multi:!0},Vi,ji,Fi,{provide:oa,useExisting:Vi},{provide:er,useClass:rd},[]];var de=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=t.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var cr=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}},ur=class{encodeKey(e){return Ba(e)}encodeValue(e){return Ba(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function fd(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}var pd=/%(\d[a-f0-9])/gi,gd={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ba(n){return encodeURIComponent(n).replace(pd,(e,t)=>gd[t]??e)}function or(n){return`${n}`}var Re=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new ur,e.fromString){if(e.fromObject)throw new T(2805,!1);this.map=fd(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(or):[or(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(or(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(or(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};function md(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function za(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ha(n){return typeof Blob<"u"&&n instanceof Blob}function Wa(n){return typeof FormData<"u"&&n instanceof FormData}function vd(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var nn="Content-Type",lr="Accept",qa="text/plain",Ga="application/json",Ka=`${Ga}, ${qa}, */*`,wt=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let s;if(md(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s){if(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,this.keepalive=!!s.keepalive,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),s.priority&&(this.priority=s.priority),s.cache&&(this.cache=s.cache),s.credentials&&(this.credentials=s.credentials),typeof s.timeout=="number"){if(s.timeout<1||!Number.isInteger(s.timeout))throw new T(2822,"");this.timeout=s.timeout}s.mode&&(this.mode=s.mode),s.redirect&&(this.redirect=s.redirect),s.integrity&&(this.integrity=s.integrity),s.referrer&&(this.referrer=s.referrer),s.referrerPolicy&&(this.referrerPolicy=s.referrerPolicy),this.transferCache=s.transferCache}if(this.headers??=new de,this.context??=new cr,!this.params)this.params=new Re,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||za(this.body)||Ha(this.body)||Wa(this.body)||vd(this.body)?this.body:this.body instanceof Re?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Wa(this.body)?null:Ha(this.body)?this.body.type||null:za(this.body)?null:typeof this.body=="string"?qa:this.body instanceof Re?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Ga:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.keepalive??this.keepalive,o=e.priority||this.priority,a=e.cache||this.cache,c=e.mode||this.mode,u=e.redirect||this.redirect,l=e.credentials||this.credentials,d=e.referrer||this.referrer,h=e.integrity||this.integrity,m=e.referrerPolicy||this.referrerPolicy,A=e.transferCache??this.transferCache,S=e.timeout??this.timeout,E=e.body!==void 0?e.body:this.body,_=e.withCredentials??this.withCredentials,O=e.reportProgress??this.reportProgress,N=e.headers||this.headers,C=e.params||this.params,ee=e.context??this.context;return e.setHeaders!==void 0&&(N=Object.keys(e.setHeaders).reduce((G,K)=>G.set(K,e.setHeaders[K]),N)),e.setParams&&(C=Object.keys(e.setParams).reduce((G,K)=>G.set(K,e.setParams[K]),C)),new n(t,r,E,{params:C,headers:N,context:ee,reportProgress:O,responseType:i,withCredentials:_,transferCache:A,keepalive:s,cache:a,priority:o,timeout:S,mode:c,redirect:u,credentials:l,referrer:d,integrity:h,referrerPolicy:m})}},Se=(function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n})(Se||{}),Tt=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(e,t=200,r="OK"){this.headers=e.headers||new de,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.redirected=e.redirected,this.responseType=e.responseType,this.ok=this.status>=200&&this.status<300}},rn=class n extends Tt{constructor(e={}){super(e)}type=Se.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},bt=class n extends Tt{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=Se.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0,redirected:e.redirected??this.redirected,responseType:e.responseType??this.responseType})}},le=class extends Tt{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},Ja=200,yd=204;var Ed=/^\)\]\}',?\n/,Ya=new b(""),ar=(()=>{class n{fetchImpl=f(zi,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t));ngZone=f(j);destroyRef=f(Ze);handle(t){return new J(r=>{let i=new AbortController;this.doRequest(t,i.signal,r).then(Hi,o=>r.error(new le({error:o})));let s;return t.timeout&&(s=this.ngZone.runOutsideAngular(()=>setTimeout(()=>{i.signal.aborted||i.abort(new DOMException("signal timed out","TimeoutError"))},t.timeout))),()=>{s!==void 0&&clearTimeout(s),i.abort()}})}async doRequest(t,r,i){let s=this.createRequestInit(t),o;try{let S=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,p({signal:r},s)));Id(S),i.next({type:Se.Sent}),o=await S}catch(S){i.error(new le({error:S,status:S.status??0,statusText:S.statusText,url:t.urlWithParams,headers:S.headers}));return}let a=new de(o.headers),c=o.statusText,u=o.url||t.urlWithParams,l=o.status,d=null;if(t.reportProgress&&i.next(new rn({headers:a,status:l,statusText:c,url:u})),o.body){let S=o.headers.get("content-length"),E=[],_=o.body.getReader(),O=0,N,C,ee=typeof Zone<"u"&&Zone.current,G=!1;if(await this.ngZone.runOutsideAngular(async()=>{for(;;){if(this.destroyRef.destroyed){await _.cancel(),G=!0;break}let{done:Ke,value:Je}=await _.read();if(Ke)break;if(E.push(Je),O+=Je.length,t.reportProgress){C=t.responseType==="text"?(C??"")+(N??=new TextDecoder).decode(Je,{stream:!0}):void 0;let Vn=()=>i.next({type:Se.DownloadProgress,total:S?+S:void 0,loaded:O,partialText:C});ee?ee.run(Vn):Vn()}}}),G){i.complete();return}let K=this.concatChunks(E,O);try{let Ke=o.headers.get(nn)??"";d=this.parseBody(t,K,Ke,l)}catch(Ke){i.error(new le({error:Ke,headers:new de(o.headers),status:o.status,statusText:o.statusText,url:o.url||t.urlWithParams}));return}}l===0&&(l=d?Ja:0);let h=l>=200&&l<300,m=o.redirected,A=o.type;h?(i.next(new bt({body:d,headers:a,status:l,statusText:c,url:u,redirected:m,responseType:A})),i.complete()):i.error(new le({error:d,headers:a,status:l,statusText:c,url:u,redirected:m,responseType:A}))}parseBody(t,r,i,s){switch(t.responseType){case"json":let o=new TextDecoder().decode(r).replace(Ed,"");if(o==="")return null;try{return JSON.parse(o)}catch(a){if(s<200||s>=300)return o;throw a}case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i;if(i=t.credentials,t.withCredentials&&(i="include"),t.headers.forEach((s,o)=>r[s]=o.join(",")),t.headers.has(lr)||(r[lr]=Ka),!t.headers.has(nn)){let s=t.detectContentTypeHeader();s!==null&&(r[nn]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i,keepalive:t.keepalive,cache:t.cache,priority:t.priority,mode:t.mode,redirect:t.redirect,referrer:t.referrer,integrity:t.integrity,referrerPolicy:t.referrerPolicy}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let o of t)i.set(o,s),s+=o.length;return i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),zi=class{};function Hi(){}function Id(n){n.then(Hi,Hi)}var _d=/^\)\]\}',?\n/;var Wi=(()=>{class n{xhrFactory;tracingService=f(Jn,{optional:!0});constructor(t){this.xhrFactory=t}maybePropagateTrace(t){return this.tracingService?.propagate?this.tracingService.propagate(t):t}handle(t){if(t.method==="JSONP")throw new T(-2800,!1);let r=this.xhrFactory;return v(null).pipe(X(()=>new J(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((E,_)=>o.setRequestHeader(E,_.join(","))),t.headers.has(lr)||o.setRequestHeader(lr,Ka),!t.headers.has(nn)){let E=t.detectContentTypeHeader();E!==null&&o.setRequestHeader(nn,E)}if(t.timeout&&(o.timeout=t.timeout),t.responseType){let E=t.responseType.toLowerCase();o.responseType=E!=="json"?E:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let E=o.statusText||"OK",_=new de(o.getAllResponseHeaders()),O=o.responseURL||t.url;return c=new rn({headers:_,status:o.status,statusText:E,url:O}),c},l=this.maybePropagateTrace(()=>{let{headers:E,status:_,statusText:O,url:N}=u(),C=null;_!==yd&&(C=typeof o.response>"u"?o.responseText:o.response),_===0&&(_=C?Ja:0);let ee=_>=200&&_<300;if(t.responseType==="json"&&typeof C=="string"){let G=C;C=C.replace(_d,"");try{C=C!==""?JSON.parse(C):null}catch(K){C=G,ee&&(ee=!1,C={error:K,text:C})}}ee?(s.next(new bt({body:C,headers:E,status:_,statusText:O,url:N||void 0})),s.complete()):s.error(new le({error:C,headers:E,status:_,statusText:O,url:N||void 0}))}),d=this.maybePropagateTrace(E=>{let{url:_}=u(),O=new le({error:E,status:o.status||0,statusText:o.statusText||"Unknown Error",url:_||void 0});s.error(O)}),h=d;t.timeout&&(h=this.maybePropagateTrace(E=>{let{url:_}=u(),O=new le({error:new DOMException("Request timed out","TimeoutError"),status:o.status||0,statusText:o.statusText||"Request timeout",url:_||void 0});s.error(O)}));let m=!1,A=this.maybePropagateTrace(E=>{m||(s.next(u()),m=!0);let _={type:Se.DownloadProgress,loaded:E.loaded};E.lengthComputable&&(_.total=E.total),t.responseType==="text"&&o.responseText&&(_.partialText=o.responseText),s.next(_)}),S=this.maybePropagateTrace(E=>{let _={type:Se.UploadProgress,loaded:E.loaded};E.lengthComputable&&(_.total=E.total),s.next(_)});return o.addEventListener("load",l),o.addEventListener("error",d),o.addEventListener("timeout",h),o.addEventListener("abort",d),t.reportProgress&&(o.addEventListener("progress",A),a!==null&&o.upload&&o.upload.addEventListener("progress",S)),o.send(a),s.next({type:Se.Sent}),()=>{o.removeEventListener("error",d),o.removeEventListener("abort",d),o.removeEventListener("load",l),o.removeEventListener("timeout",h),t.reportProgress&&(o.removeEventListener("progress",A),a!==null&&o.upload&&o.upload.removeEventListener("progress",S)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||n)(w(er))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wd(n,e){return e(n)}function Td(n,e,t){return(r,i)=>M(t,()=>e(r,s=>n(s,i)))}var Xa=new b("",{factory:()=>[]}),Za=new b(""),Qa=new b("",{providedIn:"root",factory:()=>!0});var hr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=w(Wi),i},providedIn:"root"})}return n})();var dr=(()=>{class n{backend;injector;chain=null;pendingTasks=f(yt);contributeToStability=f(Qa);constructor(t,r){this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Xa),...this.injector.get(Za,[])]));this.chain=r.reduceRight((i,s)=>Td(i,s,this.injector),wd)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Hn(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(w(hr),w(Z))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),qi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=w(dr),i},providedIn:"root"})}return n})();function Bi(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,credentials:n.credentials,transferCache:n.transferCache,timeout:n.timeout,keepalive:n.keepalive,priority:n.priority,cache:n.cache,mode:n.mode,redirect:n.redirect,integrity:n.integrity,referrer:n.referrer,referrerPolicy:n.referrerPolicy}}var ec=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof wt)s=t;else{let c;i.headers instanceof de?c=i.headers:c=new de(i.headers);let u;i.params&&(i.params instanceof Re?u=i.params:u=new Re({fromObject:i.params})),s=new wt(t,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let o=v(s).pipe(Xe(c=>this.handler.handle(c)));if(t instanceof wt||i.observe==="events")return o;let a=o.pipe(te(c=>c instanceof bt));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(k(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new T(2806,!1);return c.body}));case"blob":return a.pipe(k(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new T(2807,!1);return c.body}));case"text":return a.pipe(k(c=>{if(c.body!==null&&typeof c.body!="string")throw new T(2808,!1);return c.body}));case"json":default:return a.pipe(k(c=>c.body))}case"response":return a;default:throw new T(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Re().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Bi(i,r))}post(t,r,i={}){return this.request("POST",t,Bi(i,r))}put(t,r,i={}){return this.request("PUT",t,Bi(i,r))}static \u0275fac=function(r){return new(r||n)(w(qi))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var bd=new b("",{factory:()=>!0}),Rd="XSRF-TOKEN",Sd=new b("",{providedIn:"root",factory:()=>Rd}),Ad="X-XSRF-TOKEN",Cd=new b("",{providedIn:"root",factory:()=>Ad}),Pd=(()=>{class n{cookieName=f(Sd);doc=f(B);lastCookieString="";lastToken=null;parseCount=0;getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qn(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),tc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:function(r){let i=null;return r?i=new(r||n):i=w(Pd),i},providedIn:"root"})}return n})();function Od(n,e){let t=n.url.toLowerCase();if(!f(bd)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=f(tc).getToken(),i=f(Cd);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Gi=(function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n})(Gi||{});function kd(n,e){return{\u0275kind:n,\u0275providers:e}}function Dd(...n){let e=[ec,dr,{provide:qi,useExisting:dr},{provide:hr,useFactory:()=>f(Ya,{optional:!0})??f(Wi)},{provide:Xa,useValue:Od,multi:!0}];for(let t of n)e.push(...t.\u0275providers);return we(e)}function Nd(){return kd(Gi.Fetch,[ar,{provide:Ya,useExisting:ar},{provide:hr,useExisting:ar}])}var nc=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(w(B))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var y="primary",gn=Symbol("RouteTitle"),Zi=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function it(n){return new Zi(n)}function dc(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function yr(n){return new Promise((e,t)=>{n.pipe(Me()).subscribe({next:r=>e(r),error:r=>t(r)})})}function Ld(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!he(n[t],e[t]))return!1;return!0}function he(n,e){let t=n?Qi(n):void 0,r=e?Qi(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!hc(n[i],e[i]))return!1;return!0}function Qi(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function hc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function fc(n){return n.length>0?n[n.length-1]:null}function st(n){return Ti(n)?n:ha(n)?F(Promise.resolve(n)):v(n)}function pc(n){return Ti(n)?yr(n):Promise.resolve(n)}var Ud={exact:mc,subset:vc},gc={exact:xd,subset:Fd,ignored:()=>!0};function rc(n,e,t){return Ud[t.paths](n.root,e.root,t.matrixParams)&&gc[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function xd(n,e){return he(n,e)}function mc(n,e,t){if(!nt(n.segments,e.segments)||!gr(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!mc(n.children[r],e.children[r],t))return!1;return!0}function Fd(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>hc(n[t],e[t]))}function vc(n,e,t){return yc(n,e,e.segments,t)}function yc(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!nt(i,t)||e.hasChildren()||!gr(i,t,r))}else if(n.segments.length===t.length){if(!nt(n.segments,t)||!gr(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!vc(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!nt(n.segments,i)||!gr(n.segments,i,r)||!n.children[y]?!1:yc(n.children[y],e,s,r)}}function gr(n,e,t){return e.every((r,i)=>gc[t](n[i].parameters,r.parameters))}var re=class{root;queryParams;fragment;_queryParamMap;constructor(e=new R([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=it(this.queryParams),this._queryParamMap}toString(){return Vd.serialize(this)}},R=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mr(this)}},Le=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=it(this.parameters),this._parameterMap}toString(){return Ic(this)}};function jd(n,e){return nt(n,e)&&n.every((t,r)=>he(t.parameters,e[r].parameters))}function nt(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function $d(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===y&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==y&&(t=t.concat(e(i,r)))}),t}var ot=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>new Ae,providedIn:"root"})}return n})(),Ae=class{parse(e){let t=new ts(e);return new re(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${sn(e.root,!0)}`,r=Hd(e.queryParams),i=typeof e.fragment=="string"?`#${Bd(e.fragment)}`:"";return`${t}${r}${i}`}},Vd=new Ae;function mr(n){return n.segments.map(e=>Ic(e)).join("/")}function sn(n,e){if(!n.hasChildren())return mr(n);if(e){let t=n.children[y]?sn(n.children[y],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==y&&r.push(`${i}:${sn(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=$d(n,(r,i)=>i===y?[sn(n.children[y],!1)]:[`${i}:${sn(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[y]!=null?`${mr(n)}/${t[0]}`:`${mr(n)}/(${t.join("//")})`}}function Ec(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fr(n){return Ec(n).replace(/%3B/gi,";")}function Bd(n){return encodeURI(n)}function es(n){return Ec(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vr(n){return decodeURIComponent(n)}function ic(n){return vr(n.replace(/\+/g,"%20"))}function Ic(n){return`${es(n.path)}${zd(n.parameters)}`}function zd(n){return Object.entries(n).map(([e,t])=>`;${es(e)}=${es(t)}`).join("")}function Hd(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${fr(t)}=${fr(i)}`).join("&"):`${fr(t)}=${fr(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Wd=/^[^\/()?;#]+/;function Ki(n){let e=n.match(Wd);return e?e[0]:""}var qd=/^[^\/()?;=#]+/;function Gd(n){let e=n.match(qd);return e?e[0]:""}var Kd=/^[^=?&#]+/;function Jd(n){let e=n.match(Kd);return e?e[0]:""}var Yd=/^[^&#]+/;function Xd(n){let e=n.match(Yd);return e?e[0]:""}var ts=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[y]=new R(e,t)),r}parseSegment(){let e=Ki(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new Le(vr(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Gd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=Ki(this.remaining);i&&(r=i,this.capture(r))}e[vr(t)]=vr(r)}parseQueryParam(e){let t=Jd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Xd(this.remaining);o&&(r=o,this.capture(r))}let i=ic(t),s=ic(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Ki(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new T(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=y);let o=this.parseChildren();t[s??y]=Object.keys(o).length===1&&o[y]?o[y]:new R([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}};function _c(n){return n.segments.length>0?new R([],{[y]:n}):n}function wc(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=wc(i);if(r===y&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new R(n.segments,e);return Zd(t)}function Zd(n){if(n.numberOfChildren===1&&n.children[y]){let e=n.children[y];return new R(n.segments.concat(e.segments),e.children)}return n}function Ue(n){return n instanceof re}function Tc(n,e,t=null,r=null,i=new Ae){let s=bc(n);return Rc(s,e,t,r,i)}function bc(n){let e;function t(s){let o={};for(let c of s.children){let u=t(c);o[c.outlet]=u}let a=new R(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=_c(r);return e??i}function Rc(n,e,t,r,i){let s=n;for(;s.parent;)s=s.parent;if(e.length===0)return Ji(s,s,s,t,r,i);let o=Qd(e);if(o.toRoot())return Ji(s,s,new R([],{}),t,r,i);let a=eh(o,s,n),c=a.processChildren?an(a.segmentGroup,a.index,o.commands):Ac(a.segmentGroup,a.index,o.commands);return Ji(s,a.segmentGroup,c,t,r,i)}function Er(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function un(n){return typeof n=="object"&&n!=null&&n.outlets}function sc(n,e,t){n||="\u0275";let r=new re;return r.queryParams={[n]:e},t.parse(t.serialize(r)).queryParams[n]}function Ji(n,e,t,r,i,s){let o={};for(let[u,l]of Object.entries(r??{}))o[u]=Array.isArray(l)?l.map(d=>sc(u,d,s)):sc(u,l,s);let a;n===e?a=t:a=Sc(n,e,t);let c=_c(wc(a));return new re(c,o,i)}function Sc(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=Sc(s,e,t)}),new R(n.segments,r)}var Ir=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Er(r[0]))throw new T(4003,!1);let i=r.find(un);if(i&&i!==fc(r))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Qd(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Ir(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Ir(t,e,r)}var St=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function eh(n,e,t){if(n.isAbsolute)return new St(e,!0,0);if(!t)return new St(e,!1,NaN);if(t.parent===null)return new St(t,!0,0);let r=Er(n.commands[0])?0:1,i=t.segments.length-1+r;return th(t,i,n.numberOfDoubleDots)}function th(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,!1);i=r.segments.length}return new St(r,!1,i-s)}function nh(n){return un(n[0])?n[0].outlets:{[y]:n}}function Ac(n,e,t){if(n??=new R([],{}),n.segments.length===0&&n.hasChildren())return an(n,e,t);let r=rh(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new R(n.segments.slice(0,r.pathIndex),{});return s.children[y]=new R(n.segments.slice(r.pathIndex),n.children),an(s,0,i)}else return r.match&&i.length===0?new R(n.segments,{}):r.match&&!n.hasChildren()?ns(n,e,t):r.match?an(n,0,i):ns(n,e,t)}function an(n,e,t){if(t.length===0)return new R(n.segments,{});{let r=nh(t),i={};if(Object.keys(r).some(s=>s!==y)&&n.children[y]&&n.numberOfChildren===1&&n.children[y].segments.length===0){let s=an(n.children[y],e,t);return new R(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=Ac(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new R(n.segments,i)}}function rh(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(un(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!ac(c,u,o))return s;r+=2}else{if(!ac(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ns(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(un(s)){let c=ih(s.outlets);return new R(r,c)}if(i===0&&Er(t[0])){let c=n.segments[e];r.push(new Le(c.path,oc(t[0]))),i++;continue}let o=un(s)?s.outlets[y]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Er(a)?(r.push(new Le(o,oc(a))),i+=2):(r.push(new Le(o,{})),i++)}return new R(r,{})}function ih(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ns(new R([],{}),0,r))}),e}function oc(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function ac(n,e,t){return n==t.path&&he(e,t.parameters)}var At="imperative",D=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(D||{}),H=class{id;url;constructor(e,t){this.id=e,this.url=t}},xe=class extends H{type=D.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},W=class extends H{urlAfterRedirects;type=D.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})($||{}),Pt=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Pt||{}),fe=class extends H{reason;code;type=D.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pe=class extends H{reason;code;type=D.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Ot=class extends H{error;target;type=D.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},ln=class extends H{urlAfterRedirects;state;type=D.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_r=class extends H{urlAfterRedirects;state;type=D.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wr=class extends H{urlAfterRedirects;state;shouldActivate;type=D.GuardsCheckEnd;constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tr=class extends H{urlAfterRedirects;state;type=D.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},br=class extends H{urlAfterRedirects;state;type=D.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rr=class{route;type=D.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Sr=class{route;type=D.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ar=class{snapshot;type=D.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cr=class{snapshot;type=D.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pr=class{snapshot;type=D.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Or=class{snapshot;type=D.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kt=class{routerEvent;position;anchor;type=D.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},dn=class{},Dt=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function sh(n){return!(n instanceof dn)&&!(n instanceof Dt)}function oh(n,e){return n.providers&&!n._injector&&(n._injector=Yn(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ne(n){return n.outlet||y}function ah(n,e){let t=n.filter(r=>ne(r)===e);return t.push(...n.filter(r=>ne(r)!==e)),t}function Lt(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var kr=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Lt(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new at(this.rootInjector)}},at=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new kr(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(w(Z))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dr=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=rs(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=rs(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=is(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return is(e,this._root).map(t=>t.value)}};function rs(n,e){if(n===e.value)return e;for(let t of e.children){let r=rs(n,t);if(r)return r}return null}function is(n,e){if(n===e.value)return[e];for(let t of e.children){let r=is(n,t);if(r.length)return r.unshift(e),r}return[]}var z=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Rt(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var hn=class extends Dr{snapshot;constructor(e,t){super(e),this.snapshot=t,ls(this,e)}toString(){return this.snapshot.toString()}};function Cc(n){let e=ch(n),t=new Y([new Le("",{})]),r=new Y({}),i=new Y({}),s=new Y({}),o=new Y(""),a=new ge(t,r,s,o,i,y,n,e.root);return a.snapshot=e.root,new hn(new z(a,[]),e)}function ch(n){let e={},t={},r={},s=new rt([],e,r,"",t,y,n,null,{});return new fn("",new z(s,[]))}var ge=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(k(u=>u[gn]))??v(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(k(e=>it(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(k(e=>it(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Nr(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:p(p({},e.params),n.params),data:p(p({},e.data),n.data),resolve:p(p(p(p({},n.data),e.data),i?.data),n._resolvedData)}:r={params:p({},n.params),data:p({},n.data),resolve:p(p({},n.data),n._resolvedData??{})},i&&Oc(i)&&(r.resolve[gn]=i.title),r}var rt=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[gn]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=it(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=it(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},fn=class extends Dr{url;constructor(e,t){super(t),this.url=e,ls(this,t)}toString(){return Pc(this._root)}};function ls(n,e){e.value._routerState=n,e.children.forEach(t=>ls(n,t))}function Pc(n){let e=n.children.length>0?` { ${n.children.map(Pc).join(", ")} } `:"";return`${n.value}${e}`}function Yi(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,he(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),he(e.params,t.params)||n.paramsSubject.next(t.params),Ld(e.url,t.url)||n.urlSubject.next(t.url),he(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ss(n,e){let t=he(n.params,e.params)&&jd(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||ss(n.parent,e.parent))}function Oc(n){return typeof n.title=="string"||n.title===null}var kc=new b(""),ds=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=y;activateEvents=new Qe;deactivateEvents=new Qe;attachEvents=new Qe;detachEvents=new Qe;routerOutletData=Ra();parentContexts=f(at);location=f(ca);changeDetector=f(Xn);inputBinder=f(mn,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new os(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=Jt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[qt]})}return n})(),os=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===ge?this.route:e===at?this.childContexts:e===kc?this.outletData:this.parent.get(e,t)}},mn=new b(""),hs=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=bi([r.queryParams,r.params,r.data]).pipe(X(([s,o,a],c)=>(a=p(p(p({},s),o),a),c===0?v(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=Aa(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})(),fs=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=la({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&ga(0,"router-outlet")},dependencies:[ds],encapsulation:2})}return n})();function ps(n){let e=n.children&&n.children.map(ps),t=e?U(p({},n),{children:e}):p({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==y&&(t.component=fs),t}function uh(n,e,t){let r=pn(n,e._root,t?t._root:void 0);return new hn(r,e)}function pn(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=lh(n,e,t);return new z(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>pn(n,a)),o}}let r=dh(e.value),i=e.children.map(s=>pn(n,s));return new z(r,i)}}function lh(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return pn(n,r,i);return pn(n,r)})}function dh(n){return new ge(new Y(n.url),new Y(n.params),new Y(n.queryParams),new Y(n.fragment),new Y(n.data),n.outlet,n.component,n)}var Nt=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Dc="ngNavigationCancelingError";function Mr(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ue(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Nc(!1,$.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Nc(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Dc]=!0,t.cancellationCode=e,t}function hh(n){return Mc(n)&&Ue(n.url)}function Mc(n){return!!n&&n[Dc]}var fh=(n,e,t,r)=>k(i=>(new as(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),as=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Yi(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Rt(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Rt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Rt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Rt(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Or(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Cr(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(Yi(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Yi(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Lr=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ct=class{component;route;constructor(e,t){this.component=e,this.route=t}};function ph(n,e,t){let r=n._root,i=e?e._root:null;return on(r,i,t,[r.value])}function gh(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ut(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Jo(n)?n:e.get(n):r}function on(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Rt(e);return n.children.forEach(o=>{mh(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>cn(a,t.getContext(o),i)),i}function mh(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let c=vh(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Lr(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?on(n,e,a?a.children:null,r,i):on(n,e,t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ct(a.outlet.component,o))}else o&&cn(e,a,i),i.canActivateChecks.push(new Lr(r)),s.component?on(n,null,a?a.children:null,r,i):on(n,null,t,r,i);return i}function vh(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!nt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!nt(n.url,e.url)||!he(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ss(n,e)||!he(n.queryParams,e.queryParams);case"paramsChange":default:return!ss(n,e)}}function cn(n,e,t){let r=Rt(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?cn(o,e.children.getContext(s),t):cn(o,null,t):cn(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Ct(e.outlet.component,i)):t.canDeactivateChecks.push(new Ct(null,i)):t.canDeactivateChecks.push(new Ct(null,i))}function vn(n){return typeof n=="function"}function yh(n){return typeof n=="boolean"}function Eh(n){return n&&vn(n.canLoad)}function Ih(n){return n&&vn(n.canActivate)}function _h(n){return n&&vn(n.canActivateChild)}function wh(n){return n&&vn(n.canDeactivate)}function Th(n){return n&&vn(n.canMatch)}function Lc(n){return n instanceof Ho||n?.name==="EmptyError"}var pr=Symbol("INITIAL_VALUE");function Mt(){return X(n=>bi(n.map(e=>e.pipe(vt(1),qo(pr)))).pipe(k(e=>{for(let t of e)if(t!==!0){if(t===pr)return pr;if(t===!1||bh(t))return t}return!0}),te(e=>e!==pr),vt(1)))}function bh(n){return Ue(n)||n instanceof Nt}function Uc(n){return n.aborted?v(void 0).pipe(vt(1)):new J(e=>{let t=()=>{e.next(),e.complete()};return n.addEventListener("abort",t),()=>n.removeEventListener("abort",t)})}function xc(n){return Wn(Uc(n))}function Rh(n,e){return ae(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?v(U(p({},t),{guardsResult:!0})):Sh(o,r,i,n).pipe(ae(a=>a&&yh(a)?Ah(r,s,n,e):v(a)),k(a=>U(p({},t),{guardsResult:a})))})}function Sh(n,e,t,r){return F(n).pipe(ae(i=>Dh(i.component,i.route,t,e,r)),Me(i=>i!==!0,!0))}function Ah(n,e,t,r){return F(e).pipe(Xe(i=>Wo(Ph(i.route.parent,r),Ch(i.route,r),kh(n,i.path,t),Oh(n,i.route,t))),Me(i=>i!==!0,!0))}function Ch(n,e){return n!==null&&e&&e(new Pr(n)),v(!0)}function Ph(n,e){return n!==null&&e&&e(new Ar(n)),v(!0)}function Oh(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return v(!0);let i=r.map(s=>Bn(()=>{let o=Lt(e)??t,a=Ut(s,o),c=Ih(a)?a.canActivate(e,n):M(o,()=>a(e,n));return st(c).pipe(Me())}));return v(i).pipe(Mt())}function kh(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>gh(o)).filter(o=>o!==null).map(o=>Bn(()=>{let a=o.guards.map(c=>{let u=Lt(o.node)??t,l=Ut(c,u),d=_h(l)?l.canActivateChild(r,n):M(u,()=>l(r,n));return st(d).pipe(Me())});return v(a).pipe(Mt())}));return v(s).pipe(Mt())}function Dh(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return v(!0);let o=s.map(a=>{let c=Lt(e)??i,u=Ut(a,c),l=wh(u)?u.canDeactivate(n,e,t,r):M(c,()=>u(n,e,t,r));return st(l).pipe(Me())});return v(o).pipe(Mt())}function Nh(n,e,t,r,i){let s=e.canLoad;if(s===void 0||s.length===0)return v(!0);let o=s.map(a=>{let c=Ut(a,n),u=Eh(c)?c.canLoad(e,t):M(n,()=>c(e,t)),l=st(u);return i?l.pipe(xc(i)):l});return v(o).pipe(Mt(),Fc(r))}function Fc(n){return $o(V(e=>{if(typeof e!="boolean")throw Mr(n,e)}),k(e=>e===!0))}function Mh(n,e,t,r,i){let s=e.canMatch;if(!s||s.length===0)return v(!0);let o=s.map(a=>{let c=Ut(a,n),u=Th(c)?c.canMatch(e,t):M(n,()=>c(e,t)),l=st(u);return i?l.pipe(xc(i)):l});return v(o).pipe(Mt(),Fc(r))}var tt=class jc extends Error{segmentGroup;constructor(e){super(),this.segmentGroup=e||null,Object.setPrototypeOf(this,jc.prototype)}},cs=class $c extends Error{urlTree;constructor(e){super(),this.urlTree=e,Object.setPrototypeOf(this,$c.prototype)}};function Lh(n){throw new T(4e3,!1)}function Uh(n){throw Nc(!1,$.GuardRejected)}var xh=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}async lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[y])throw Lh(`${e.redirectTo}`);i=i.children[y]}}async applyRedirectCommands(e,t,r,i,s){let o=await Fh(t,i,s);if(o instanceof re)throw new cs(o);let a=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),e,r);if(o[0]==="/")throw new cs(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new re(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new R(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new T(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function Fh(n,e,t){if(typeof n=="string")return Promise.resolve(n);let r=n,{queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,params:u,data:l,title:d}=e;return yr(st(M(t,()=>r({params:u,data:l,queryParams:i,fragment:s,routeConfig:o,url:a,outlet:c,title:d}))))}var us={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jh(n,e,t,r,i,s){let o=Vc(n,e,t);return o.matched?(r=oh(e,r),Mh(r,e,t,i,s).pipe(k(a=>a===!0?o:p({},us)))):v(o)}function Vc(n,e,t){if(e.path==="**")return $h(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?p({},us):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||dc)(t,n,e);if(!i)return p({},us);let s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});let o=i.consumed.length>0?p(p({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function $h(n){return{matched:!0,parameters:n.length>0?fc(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function cc(n,e,t,r){return t.length>0&&zh(n,t,r)?{segmentGroup:new R(e,Bh(r,new R(t,n.children))),slicedSegments:[]}:t.length===0&&Hh(n,t,r)?{segmentGroup:new R(n.segments,Vh(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new R(n.segments,n.children),slicedSegments:t}}function Vh(n,e,t,r){let i={};for(let s of t)if(xr(n,e,s)&&!r[ne(s)]){let o=new R([],{});i[ne(s)]=o}return p(p({},r),i)}function Bh(n,e){let t={};t[y]=e;for(let r of n)if(r.path===""&&ne(r)!==y){let i=new R([],{});t[ne(r)]=i}return t}function zh(n,e,t){return t.some(r=>xr(n,e,r)&&ne(r)!==y)}function Hh(n,e,t){return t.some(r=>xr(n,e,r))}function xr(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Wh(n,e,t){return e.length===0&&!n.children[t]}var qh=class{};async function Gh(n,e,t,r,i,s,o="emptyOnly",a){return new Jh(n,e,t,r,i,o,s,a).recognize()}var Kh=31,Jh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,s,o,a,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.abortSignal=c,this.applyRedirects=new xh(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,`'${e.segmentGroup}'`)}async recognize(){let e=cc(this.urlTree.root,[],[],this.config).segmentGroup,{children:t,rootSnapshot:r}=await this.match(e),i=new z(r,t),s=new fn("",i),o=Tc(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}async match(e){let t=new rt([],Object.freeze({}),Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),y,this.rootComponentType,null,{});try{return{children:await this.processSegmentGroup(this.injector,this.config,e,y,t),rootSnapshot:t}}catch(r){if(r instanceof cs)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof tt?this.noMatchError(r):r}}async processSegmentGroup(e,t,r,i,s){if(r.segments.length===0&&r.hasChildren())return this.processChildren(e,t,r,s);let o=await this.processSegment(e,t,r,r.segments,i,!0,s);return o instanceof z?[o]:[]}async processChildren(e,t,r,i){let s=[];for(let c of Object.keys(r.children))c==="primary"?s.unshift(c):s.push(c);let o=[];for(let c of s){let u=r.children[c],l=ah(t,c),d=await this.processSegmentGroup(e,l,u,c,i);o.push(...d)}let a=Bc(o);return Yh(a),a}async processSegment(e,t,r,i,s,o,a){for(let c of t)try{return await this.processSegmentAgainstRoute(c._injector??e,t,c,r,i,s,o,a)}catch(u){if(u instanceof tt||Lc(u))continue;throw u}if(Wh(r,i,s))return new qh;throw new tt(r)}async processSegmentAgainstRoute(e,t,r,i,s,o,a,c){if(ne(r)!==o&&(o===y||!xr(i,s,r)))throw new tt(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(e,i,r,s,o,c);if(this.allowRedirects&&a)return this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,c);throw new tt(i)}async expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:c,parameters:u,consumedSegments:l,positionalParamSegments:d,remainingSegments:h}=Vc(t,i,s);if(!c)throw new tt(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Kh&&(this.allowRedirects=!1));let m=new rt(s,u,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,uc(i),ne(i),i.component??i._loadedComponent??null,i,lc(i)),A=Nr(m,a,this.paramsInheritanceStrategy);if(m.params=Object.freeze(A.params),m.data=Object.freeze(A.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let S=await this.applyRedirects.applyRedirectCommands(l,i.redirectTo,d,m,e),E=await this.applyRedirects.lineralizeSegments(i,S);return this.processSegment(e,r,t,E.concat(h),o,!1,a)}async matchSegmentAgainstRoute(e,t,r,i,s,o){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let a=await yr(jh(t,r,i,e,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(t.children={}),!a?.matched)throw new tt(t);e=r._injector??e;let{routes:c}=await this.getChildConfig(e,r,i),u=r._loadedInjector??e,{parameters:l,consumedSegments:d,remainingSegments:h}=a,m=new rt(d,l,Object.freeze(p({},this.urlTree.queryParams)),this.urlTree.fragment,uc(r),ne(r),r.component??r._loadedComponent??null,r,lc(r)),A=Nr(m,o,this.paramsInheritanceStrategy);m.params=Object.freeze(A.params),m.data=Object.freeze(A.data);let{segmentGroup:S,slicedSegments:E}=cc(t,d,h,c);if(E.length===0&&S.hasChildren()){let N=await this.processChildren(u,c,S,m);return new z(m,N)}if(c.length===0&&E.length===0)return new z(m,[]);let _=ne(r)===s,O=await this.processSegment(u,c,S,E,_?y:s,!0,m);return new z(m,O instanceof z?[O]:[])}async getChildConfig(e,t,r){if(t.children)return{routes:t.children,injector:e};if(t.loadChildren){if(t._loadedRoutes!==void 0)return{routes:t._loadedRoutes,injector:t._loadedInjector};if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await yr(Nh(e,t,r,this.urlSerializer,this.abortSignal))){let s=await this.configLoader.loadChildren(e,t);return t._loadedRoutes=s.routes,t._loadedInjector=s.injector,s}throw Uh(t)}return{routes:[],injector:e}}};function Yh(n){n.sort((e,t)=>e.value.outlet===y?-1:t.value.outlet===y?1:e.value.outlet.localeCompare(t.value.outlet))}function Xh(n){let e=n.value.routeConfig;return e&&e.path===""}function Bc(n){let e=[],t=new Set;for(let r of n){if(!Xh(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Bc(r.children);e.push(new z(r.value,i))}return e.filter(r=>!t.has(r))}function uc(n){return n.data||{}}function lc(n){return n.resolve||{}}var Zh=new b("",{factory:()=>Gh});function Qh(n,e,t,r,i,s,o){let a=n.get(Zh);return ae(c=>v(c).pipe(X(u=>a(n,e,t,r,u.extractedUrl,i,s,o)),k(({state:u,tree:l})=>U(p({},c),{targetSnapshot:u,urlAfterRedirects:l}))))}function ef(n,e){return ae(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return v(t);let s=new Set(i.map(c=>c.route)),o=new Set;for(let c of s)if(!o.has(c))for(let u of zc(c))o.add(u);let a=0;return F(o).pipe(Xe(c=>s.has(c)?tf(c,r,n,e):(c.data=Nr(c,c.parent,n).resolve,v(void 0))),V(()=>a++),Ri(1),ae(c=>a===o.size?v(t):_e))})}function zc(n){let e=n.children.map(t=>zc(t)).flat();return[n,...e]}function tf(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!Oc(i)&&(s[gn]=i.title),Bn(()=>(n.data=Nr(n,n.parent,t).resolve,nf(s,n,e,r).pipe(k(o=>(n._resolvedData=o,n.data=p(p({},n.data),o),null)))))}function nf(n,e,t,r){let i=Qi(n);if(i.length===0)return v({});let s={};return F(i).pipe(ae(o=>rf(n[o],e,t,r).pipe(Me(),V(a=>{if(a instanceof Nt)throw Mr(new Ae,a);s[o]=a}))),Ri(1),k(()=>s),zn(o=>Lc(o)?_e:zo(o)))}function rf(n,e,t,r){let i=Lt(e)??r,s=Ut(n,i),o=s.resolve?s.resolve(e,t):M(i,()=>s(e,t));return st(o)}function Xi(n){return X(e=>{let t=n(e);return t?F(t).pipe(k(()=>e)):v(e)})}var gs=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===y);return r}getResolvedTitleForRoute(t){return t.data[gn]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>f(Hc),providedIn:"root"})}return n})(),Hc=(()=>{class n extends gs{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(w(nc))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Fe=new b("",{factory:()=>({})}),ct=new b(""),Fr=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(Ia);async loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await pc(M(t,()=>r.loadComponent())),o=await Gc(qc(s));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o,o}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let s=await Wc(r,this.compiler,t,this.onLoadEndListener);return r._loadedRoutes=s.routes,r._loadedInjector=s.injector,s}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();async function Wc(n,e,t,r){let i=await pc(M(t,()=>n.loadChildren())),s=await Gc(qc(i)),o;s instanceof ua||Array.isArray(s)?o=s:o=await e.compileModuleAsync(s),r&&r(n);let a,c,u=!1;return Array.isArray(o)?(c=o,u=!0):(a=o.create(t).injector,c=a.get(ct,[],{optional:!0,self:!0}).flat()),{routes:c.map(ps),injector:a}}function sf(n){return n&&typeof n=="object"&&"default"in n}function qc(n){return sf(n)?n.default:n}async function Gc(n){return n}var jr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>f(of),providedIn:"root"})}return n})(),of=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ms=new b(""),vs=new b("");function Kc(n,e,t){let r=n.get(vs),i=n.get(B);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),a=i.startViewTransition(()=>(s(),af(n)));a.ready.catch(u=>{});let{onViewTransitionCreated:c}=r;return c&&M(n,()=>c({transition:a,from:e,to:t})),o}function af(n){return new Promise(e=>{sa({read:()=>setTimeout(e)},{injector:n})})}var cf=()=>{},ys=new b(""),$r=(()=>{class n{currentNavigation=Te(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=Te(null);events=new Ye;transitionAbortWithErrorSubject=new Ye;configLoader=f(Fr);environmentInjector=f(Z);destroyRef=f(Ze);urlSerializer=f(ot);rootContexts=f(at);location=f(It);inputBindingEnabled=f(mn,{optional:!0})!==null;titleStrategy=f(gs);options=f(Fe,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(jr);createViewTransition=f(ms,{optional:!0});navigationErrorHandler=f(ys,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>v(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new Rr(i)),r=i=>this.events.next(new Sr(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;be(()=>{this.transitions?.next(U(p({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(t){return this.transitions=new Y(null),this.transitions.pipe(te(r=>r!==null),X(r=>{let i=!1,s=new AbortController;return v(r).pipe(X(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",$.SupersededByNewNavigation),_e;this.currentTransition=r;let a=this.lastSuccessfulNavigation();this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:a?U(p({},a),{previousNavigation:null}):null,abort:()=>s.abort()});let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload")return this.events.next(new pe(o.id,this.urlSerializer.serialize(o.rawUrl),"",Pt.IgnoredSameUrlNavigation)),o.resolve(!1),_e;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return v(o).pipe(X(l=>(this.events.next(new xe(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?_e:Promise.resolve(l))),Qh(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy,s.signal),V(l=>{r.targetSnapshot=l.targetSnapshot,r.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=l.urlAfterRedirects,h));let d=new ln(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:d,source:h,restoredState:m,extras:A}=o,S=new xe(l,this.urlSerializer.serialize(d),h,m);this.events.next(S);let E=Cc(this.rootComponentType).snapshot;return this.currentTransition=r=U(p({},o),{targetSnapshot:E,urlAfterRedirects:d,extras:U(p({},A),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(_=>(_.finalUrl=d,_)),v(r)}else return this.events.next(new pe(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Pt.IgnoredByUrlHandlingStrategy)),o.resolve(!1),_e}),V(o=>{let a=new _r(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),k(o=>(this.currentTransition=r=U(p({},o),{guards:ph(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),Rh(this.environmentInjector,o=>this.events.next(o)),V(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Mr(this.urlSerializer,o.guardsResult);let a=new wr(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),te(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",$.GuardRejected),!1)),Xi(o=>{if(o.guards.canActivateChecks.length!==0)return v(o).pipe(V(a=>{let c=new Tr(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),X(a=>{let c=!1;return v(a).pipe(ef(this.paramsInheritanceStrategy,this.environmentInjector),V({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(a,"",$.NoDataFromResolver)}}))}),V(a=>{let c=new br(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Xi(o=>{let a=u=>{let l=[];if(u.routeConfig?._loadedComponent)u.component=u.routeConfig?._loadedComponent;else if(u.routeConfig?.loadComponent){let d=Lt(u)??this.environmentInjector;l.push(this.configLoader.loadComponent(d,u.routeConfig).then(h=>{u.component=h}))}for(let d of u.children)l.push(...a(d));return l},c=a(o.targetSnapshot.root);return c.length===0?v(o):F(Promise.all(c).then(()=>o))}),Xi(()=>this.afterPreactivation()),X(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,c=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return c?F(c).pipe(k(()=>r)):v(r)}),k(o=>{let a=uh(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=U(p({},o),{targetRouterState:a}),this.currentNavigation.update(c=>(c.targetRouterState=a,c)),r}),V(()=>{this.events.next(new dn)}),fh(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),vt(1),Wn(Uc(s.signal).pipe(te(()=>!i&&!r.targetRouterState),V(()=>{this.cancelNavigationTransition(r,s.signal.reason+"",$.Aborted)}))),V({next:o=>{i=!0,this.currentNavigation.update(a=>(a.abort=cf,a)),this.lastSuccessfulNavigation.set(be(this.currentNavigation)),this.events.next(new W(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Wn(this.transitionAbortWithErrorSubject.pipe(V(o=>{throw o}))),Hn(()=>{s.abort(),i||this.cancelNavigationTransition(r,"",$.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),zn(o=>{if(this.destroyed)return r.resolve(!1),_e;if(i=!0,Mc(o))this.events.next(new fe(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),hh(o)?this.events.next(new Dt(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ot(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let c=M(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(c instanceof Nt){let{message:u,cancellationCode:l}=Mr(this.urlSerializer,c);this.events.next(new fe(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Dt(c.redirectTo,c.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(c){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(c)}}return _e}))}))}cancelNavigationTransition(t,r,i){let s=new fe(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=be(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function uf(n){return n!==At}var Jc=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>f(lf),providedIn:"root"})}return n})(),Ur=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},lf=(()=>{class n extends Ur{static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gn(n)))(i||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Es=(()=>{class n{urlSerializer=f(ot);options=f(Fe,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=f(It);urlHandlingStrategy=f(jr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new re;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let s=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,o=i??s;return o instanceof re?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=Cc(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:()=>f(Yc),providedIn:"root"})}return n})(),Yc=(()=>{class n extends Es{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof xe?this.updateStateMemento():t instanceof pe?this.commitTransition(r):t instanceof ln?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof dn?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof fe&&t.code!==$.SupersededByNewNavigation&&t.code!==$.Redirect?this.restoreHistory(r):t instanceof Ot?this.restoreHistory(r,!0):t instanceof W&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:s,state:o}=r;if(this.location.isCurrentPathEqualTo(t)||s){let a=this.browserPageId,c=p(p({},o),this.generateNgRouterState(i,a));this.location.replaceState(t,"",c)}else{let a=p(p({},o),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.getCurrentUrlTree()===t.finalUrl&&s===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=Gn(n)))(i||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Vr(n,e){n.events.pipe(te(t=>t instanceof W||t instanceof fe||t instanceof Ot||t instanceof pe),k(t=>t instanceof W||t instanceof pe?0:(t instanceof fe?t.code===$.Redirect||t.code===$.SupersededByNewNavigation:!1)?2:1),te(t=>t!==2),vt(1)).subscribe(()=>{e()})}var df={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},hf={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},me=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(da);stateManager=f(Es);options=f(Fe,{optional:!0})||{};pendingTasks=f(Xo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f($r);urlSerializer=f(ot);location=f(It);urlHandlingStrategy=f(jr);injector=f(Z);_events=new Ye;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(Jc);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(ct,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(mn,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new jo;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=be(this.navigationTransitions.currentNavigation);if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof fe&&r.code!==$.Redirect&&r.code!==$.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof W)this.navigated=!0;else if(r instanceof Dt){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=p({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||uf(i.source)},o);this.scheduleNavigation(a,At,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}sh(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),At,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let c=p({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(s.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s).catch(c=>{this.disposed||this.injector.get(qn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return be(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(ps),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o,l=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":l=p(p({},this.currentUrlTree.queryParams),s);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=s||null}l!==null&&(l=this.removeEmptyProps(l));let d;try{let h=i?i.snapshot:this.routerState.snapshot.root;d=bc(h)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),d=this.currentUrlTree.root}return Rc(d,t,l,u??null,this.urlSerializer)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ue(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,At,null,r)}navigate(t,r={skipLocationChange:!1}){return ff(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Si(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=p({},df):r===!1?i=p({},hf):i=r,Ue(t))return rc(this.currentUrlTree,t,i);let s=this.parseUrl(t);return rc(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((d,h)=>{a=d,c=h});let l=this.pendingTasks.add();return Vr(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(d=>Promise.reject(d))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ff(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new T(4008,!1)}var Br=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Te(null);get href(){return be(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ye;applicationErrorHandler=f(qn);options=f(Fe,{optional:!0});constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.reactiveHref.set(f(new ba("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof W&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ue(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c)?.catch(u=>{this.applicationErrorHandler(u)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Ue(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(ue(me),ue(ge),Zo("tabindex"),ue(ki),ue(Ci),ue(Xt))};static \u0275dir=Jt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&ma("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&pa("href",i.reactiveHref(),na)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Zn],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Zn],replaceUrl:[2,"replaceUrl","replaceUrl",Zn],routerLink:"routerLink"},features:[qt]})}return n})(),pf=(()=>{class n{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Qe;link=f(Br,{optional:!0});constructor(t,r,i,s){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.routerEventsSubscription=t.events.subscribe(o=>{o instanceof W&&this.update()})}ngAfterContentInit(){v(this.links.changes,v(null)).pipe(Ht()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=F(t).pipe(Ht()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=gf(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(ue(me),ue(Ci),ue(ki),ue(Xn))};static \u0275dir=Jt({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&va(s,Br,5),r&2){let o;ya(o=Ea())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[qt]})}return n})();function gf(n){return!!n.paths}var yn=class{};var Xc=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,s){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(te(t=>t instanceof W),Xe(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Yn(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return F(i).pipe(Ht())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=F(this.loader.loadChildren(t,r)):i=v(null);let s=i.pipe(ae(o=>o===null?v(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(t,r);return F([s,o]).pipe(Ht())}else return s})}static \u0275fac=function(r){return new(r||n)(w(me),w(Z),w(yn),w(Fr))};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Zc=new b(""),mf=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=At;restoredId=0;store={};constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xe?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof W?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof pe&&t.code===Pt.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof kt))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(async()=>{await new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new kt(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){aa()};static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();function vf(n,...e){return we([{provide:ct,multi:!0,useValue:n},[],{provide:ge,useFactory:Qc},{provide:Ni,multi:!0,useFactory:eu},e.map(t=>t.\u0275providers)])}function Qc(){return f(me).routerState.root}function En(n,e){return{\u0275kind:n,\u0275providers:e}}function eu(){let n=f(ce);return e=>{let t=n.get(fa);if(e!==t.components[0])return;let r=n.get(me),i=n.get(tu);n.get(_s)===1&&r.initialNavigation(),n.get(iu,null,{optional:!0})?.setUpPreloading(),n.get(Zc,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var tu=new b("",{factory:()=>new Ye}),_s=new b("",{factory:()=>1});function nu(){let n=[{provide:ta,useValue:!0},{provide:_s,useValue:0},Di(()=>{let e=f(ce);return e.get(Oa,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(me),s=e.get(tu);Vr(i,()=>{r(!0)}),e.get($r).afterPreactivation=()=>(r(!0),s.closed?v(void 0):s),i.initialNavigation()}))})];return En(2,n)}function ru(){let n=[Di(()=>{f(me).setUpLocationChangeListener()}),{provide:_s,useValue:2}];return En(3,n)}var iu=new b("");function su(n){return En(0,[{provide:iu,useExisting:Xc},{provide:yn,useExisting:n}])}function ou(){return En(8,[hs,{provide:mn,useExisting:hs}])}function au(n){ia("NgRouterViewTransitions");let e=[{provide:ms,useValue:Kc},{provide:vs,useValue:p({skipNextTransition:!!n?.skipInitialTransition},n)}];return En(9,e)}var cu=[It,{provide:ot,useClass:Ae},me,at,{provide:ge,useFactory:Qc},Fr,[]],yf=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[cu,[],{provide:ct,multi:!0,useValue:t},[],r?.errorHandler?{provide:ys,useValue:r.errorHandler}:[],{provide:Fe,useValue:r||{}},r?.useHash?If():_f(),Ef(),r?.preloadingStrategy?su(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?wf(r):[],r?.bindToComponentInputs?ou().\u0275providers:[],r?.enableViewTransitions?au().\u0275providers:[],Tf()]}}static forChild(t){return{ngModule:n,providers:[{provide:ct,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Kt({type:n});static \u0275inj=Wt({})}return n})();function Ef(){return{provide:Zc,useFactory:()=>{let n=f(Ma),e=f(j),t=f(Fe),r=f($r),i=f(ot);return t.scrollOffset&&n.setOffset(t.scrollOffset),new mf(i,r,n,e,t)}}}function If(){return{provide:Xt,useClass:Da}}function _f(){return{provide:Xt,useClass:ka}}function wf(n){return[n.initialNavigation==="disabled"?ru().\u0275providers:[],n.initialNavigation==="enabledBlocking"?nu().\u0275providers:[]]}var Is=new b("");function Tf(){return[{provide:Is,useFactory:eu},{provide:Ni,multi:!0,useExisting:Is}]}function gI(n,e){let r=!e?.manualCleanup?e?.injector?.get(Ze)??f(Ze):null,i=bf(e?.equal),s;e?.requireSync?s=Te({kind:0},{equal:i}):s=Te({kind:1,value:e?.initialValue},{equal:i});let o,a=n.subscribe({next:c=>s.set({kind:1,value:c}),error:c=>{s.set({kind:2,error:c}),o?.()},complete:()=>{o?.()}});if(e?.requireSync&&s().kind===0)throw new T(601,!1);return o=r?.onDestroy(a.unsubscribe.bind(a)),_a(()=>{let c=s();switch(c.kind){case 1:return c.value;case 2:throw c.error;case 0:throw new T(601,!1)}},{equal:e?.equal})}function bf(n=Object.is){return(e,t)=>e.kind===1&&t.kind===1&&n(e.value,t.value)}function uu(n){n===void 0&&(n=f(ce));let e=n.get(yt);return t=>new J(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=t.subscribe({next:c=>{r.next(c),o()},complete:()=>{r.complete(),o()},error:c=>{r.error(c),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}function mI(n){return wa(U(p({},n),{loader:void 0,stream:e=>{let t,r=()=>t?.unsubscribe();e.abortSignal.addEventListener("abort",r);let i=Te({value:void 0}),s,o=new Promise(u=>s=u);function a(u){i.set(u),s?.(i),s=void 0}let c=n.stream??n.loader;if(c===void 0)throw new T(990,!1);return t=c(e).subscribe({next:u=>a({value:u}),error:u=>{a({error:Ta(u)}),e.abortSignal.removeEventListener("abort",r)},complete:()=>{s&&a({error:new T(991,!1)}),e.abortSignal.removeEventListener("abort",r)}}),o}}))}var lu=()=>{};var fu=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Rf=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},zr={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,l=s>>2,d=(s&3)<<4|a>>4,h=(a&15)<<2|u>>6,m=u&63;c||(m=64,o||(h=64)),r.push(t[l],t[d],t[h],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(fu(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Rf(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let d=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Ts;let h=s<<2|a>>4;if(r.push(h),u!==64){let m=a<<4&240|u>>2;if(r.push(m),d!==64){let A=u<<6&192|d;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Ts=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Sf=function(n){let e=fu(n);return zr.encodeByteArray(e,!0)},_n=function(n){return Sf(n).replace(/\./g,"")},Hr=function(n){try{return zr.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pu(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Af=()=>pu().__FIREBASE_DEFAULTS__,Cf=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Pf=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Hr(n[1]);return e&&JSON.parse(e)},Wr=()=>{try{return lu()||Af()||Cf()||Pf()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Rs=n=>{var e,t;return(t=(e=Wr())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},_I=n=>{let e=Rs(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Ss=()=>{var n;return(n=Wr())===null||n===void 0?void 0:n.config},As=n=>{var e;return(e=Wr())===null||e===void 0?void 0:e[`_${n}`]};var ut=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function wn(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gu(n){return(await fetch(n,{credentials:"include"})).ok}function wI(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[_n(JSON.stringify(t)),_n(JSON.stringify(o)),""].join(".")}var In={};function Of(){let n={prod:[],emulator:[]};for(let e of Object.keys(In))In[e]?n.emulator.push(e):n.prod.push(e);return n}function kf(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var du=!1;function mu(n,e){if(typeof window>"u"||typeof document>"u"||!wn(window.location.host)||In[n]===e||In[n]||du)return;In[n]=e;function t(h){return`__firebase__banner__${h}`}let r="__firebase__banner",s=Of().prod.length>0;function o(){let h=document.getElementById(r);h&&h.remove()}function a(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,m){h.setAttribute("width","24"),h.setAttribute("id",m),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function u(){let h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{du=!0,o()},h}function l(h,m){h.setAttribute("id",m),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function d(){let h=kf(r),m=t("text"),A=document.getElementById(m)||document.createElement("span"),S=t("learnmore"),E=document.getElementById(S)||document.createElement("a"),_=t("preprendIcon"),O=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){let N=h.element;a(N),l(E,S);let C=u();c(O,_),N.append(O,A,E,C),document.body.appendChild(N)}s?(A.innerText="Preview backend disconnected.",O.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(O.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",d):d()}function x(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vu(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function Df(){var n;let e=(n=Wr())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yu(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Eu(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function Iu(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _u(){let n=x();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function TI(){return!Df()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qr(){try{return typeof indexedDB=="object"}catch{return!1}}function wu(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var Nf="FirebaseError",ie=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Nf,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,se.prototype.create)}},se=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Mf(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ie(i,a,r)}};function Mf(n,e){return n.replace(Lf,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Lf=/\{\$([^}]+)}/g;function Tu(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function je(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(hu(s)&&hu(o)){if(!je(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function hu(n){return n!==null&&typeof n=="object"}function Tn(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xt(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ft(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function bu(n,e){let t=new bs(n,e);return t.subscribe.bind(t)}var bs=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Uf(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ws),i.error===void 0&&(i.error=ws),i.complete===void 0&&(i.complete=ws);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Uf(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ws(){}var bI=14400*1e3;function ve(n){return n&&n._delegate?n._delegate:n}var q=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var lt="[DEFAULT]";var Cs=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ut;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ff(e))try{this.getOrInitializeService({instanceIdentifier:lt})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=lt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lt){return this.instances.has(e)}getOptions(e=lt){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xf(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lt){return this.component?this.component.multipleInstances?e:lt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function xf(n){return n===lt?void 0:n}function Ff(n){return n.instantiationMode==="EAGER"}var Gr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Cs(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var jf=[],P=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(P||{}),$f={debug:P.DEBUG,verbose:P.VERBOSE,info:P.INFO,warn:P.WARN,error:P.ERROR,silent:P.SILENT},Vf=P.INFO,Bf={[P.DEBUG]:"log",[P.VERBOSE]:"log",[P.INFO]:"info",[P.WARN]:"warn",[P.ERROR]:"error"},zf=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Bf[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},$e=class{constructor(e){this.name=e,this._logLevel=Vf,this._logHandler=zf,this._userLogHandler=null,jf.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in P))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$f[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,P.DEBUG,...e),this._logHandler(this,P.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,P.VERBOSE,...e),this._logHandler(this,P.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,P.INFO,...e),this._logHandler(this,P.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,P.WARN,...e),this._logHandler(this,P.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,P.ERROR,...e),this._logHandler(this,P.ERROR,...e)}};var Hf=(n,e)=>e.some(t=>n instanceof t),Ru,Su;function Wf(){return Ru||(Ru=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qf(){return Su||(Su=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Au=new WeakMap,Os=new WeakMap,Cu=new WeakMap,Ps=new WeakMap,Ds=new WeakMap;function Gf(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(ye(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&Au.set(t,n)}).catch(()=>{}),Ds.set(e,n),e}function Kf(n){if(Os.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Os.set(n,e)}var ks={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Os.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Cu.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return ye(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function Pu(n){ks=n(ks)}function Jf(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Kr(this),e,...t);return Cu.set(r,e.sort?e.sort():[e]),ye(r)}:qf().includes(n)?function(...e){return n.apply(Kr(this),e),ye(Au.get(this))}:function(...e){return ye(n.apply(Kr(this),e))}}function Yf(n){return typeof n=="function"?Jf(n):(n instanceof IDBTransaction&&Kf(n),Hf(n,Wf())?new Proxy(n,ks):n)}function ye(n){if(n instanceof IDBRequest)return Gf(n);if(Ps.has(n))return Ps.get(n);let e=Yf(n);return e!==n&&(Ps.set(n,e),Ds.set(e,n)),e}var Kr=n=>Ds.get(n);function ku(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=ye(o);return r&&o.addEventListener("upgradeneeded",c=>{r(ye(o.result),c.oldVersion,c.newVersion,ye(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}var Xf=["get","getKey","getAll","getAllKeys","count"],Zf=["put","add","delete","clear"],Ns=new Map;function Ou(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Ns.get(e))return Ns.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Zf.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Xf.includes(t)))return;let s=async function(o,...a){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),i&&c.done]))[0]};return Ns.set(e,s),s}Pu(n=>U(p({},n),{get:(e,t,r)=>Ou(e,t)||n.get(e,t,r),has:(e,t)=>!!Ou(e,t)||n.has(e,t)}));var Ls=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Qf(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Qf(n){let e=n.getComponent();return e?.type==="VERSION"}var Us="@firebase/app",Du="0.13.2";var Ce=new $e("@firebase/app"),ep="@firebase/app-compat",tp="@firebase/analytics-compat",np="@firebase/analytics",rp="@firebase/app-check-compat",ip="@firebase/app-check",sp="@firebase/auth",op="@firebase/auth-compat",ap="@firebase/database",cp="@firebase/data-connect",up="@firebase/database-compat",lp="@firebase/functions",dp="@firebase/functions-compat",hp="@firebase/installations",fp="@firebase/installations-compat",pp="@firebase/messaging",gp="@firebase/messaging-compat",mp="@firebase/performance",vp="@firebase/performance-compat",yp="@firebase/remote-config",Ep="@firebase/remote-config-compat",Ip="@firebase/storage",_p="@firebase/storage-compat",wp="@firebase/firestore",Tp="@firebase/ai",bp="@firebase/firestore-compat",Rp="firebase",Sp="11.10.0";var xs="[DEFAULT]",Ap={[Us]:"fire-core",[ep]:"fire-core-compat",[np]:"fire-analytics",[tp]:"fire-analytics-compat",[ip]:"fire-app-check",[rp]:"fire-app-check-compat",[sp]:"fire-auth",[op]:"fire-auth-compat",[ap]:"fire-rtdb",[cp]:"fire-data-connect",[up]:"fire-rtdb-compat",[lp]:"fire-fn",[dp]:"fire-fn-compat",[hp]:"fire-iid",[fp]:"fire-iid-compat",[pp]:"fire-fcm",[gp]:"fire-fcm-compat",[mp]:"fire-perf",[vp]:"fire-perf-compat",[yp]:"fire-rc",[Ep]:"fire-rc-compat",[Ip]:"fire-gcs",[_p]:"fire-gcs-compat",[wp]:"fire-fst",[bp]:"fire-fst-compat",[Tp]:"fire-vertex","fire-js":"fire-js",[Rp]:"fire-js-all"};var bn=new Map,Cp=new Map,Fs=new Map;function Nu(n,e){try{n.container.addComponent(e)}catch(t){Ce.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Pe(n){let e=n.name;if(Fs.has(e))return Ce.debug(`There were multiple attempts to register component ${e}.`),!1;Fs.set(e,n);for(let t of bn.values())Nu(t,n);for(let t of Cp.values())Nu(t,n);return!0}function Jr(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Q(n){return n==null?!1:n.settings!==void 0}var Pp={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ve=new se("app","Firebase",Pp);var js=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new q("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ve.create("app-deleted",{appName:this._name})}};var jt=Sp;function Bs(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:xs,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Ve.create("bad-app-name",{appName:String(i)});if(t||(t=Ss()),!t)throw Ve.create("no-options");let s=bn.get(i);if(s){if(je(t,s.options)&&je(r,s.config))return s;throw Ve.create("duplicate-app",{appName:i})}let o=new Gr(i);for(let c of Fs.values())o.addComponent(c);let a=new js(t,r,o);return bn.set(i,a),a}function Sn(n=xs){let e=bn.get(n);if(!e&&n===xs&&Ss())return Bs();if(!e)throw Ve.create("no-app",{appName:n});return e}function Yr(){return Array.from(bn.values())}function L(n,e,t){var r;let i=(r=Ap[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ce.warn(a.join(" "));return}Pe(new q(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Op="firebase-heartbeat-database",kp=1,Rn="firebase-heartbeat-store",Ms=null;function xu(){return Ms||(Ms=ku(Op,kp,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Rn)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ve.create("idb-open",{originalErrorMessage:n.message})})),Ms}async function Dp(n){try{let t=(await xu()).transaction(Rn),r=await t.objectStore(Rn).get(Fu(n));return await t.done,r}catch(e){if(e instanceof ie)Ce.warn(e.message);else{let t=Ve.create("idb-get",{originalErrorMessage:e?.message});Ce.warn(t.message)}}}async function Mu(n,e){try{let r=(await xu()).transaction(Rn,"readwrite");await r.objectStore(Rn).put(e,Fu(n)),await r.done}catch(t){if(t instanceof ie)Ce.warn(t.message);else{let r=Ve.create("idb-set",{originalErrorMessage:t?.message});Ce.warn(r.message)}}}function Fu(n){return`${n.name}!${n.options.appId}`}var Np=1024,Mp=30,$s=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Vs(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Lu();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Mp){let o=Up(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ce.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Lu(),{heartbeatsToSend:r,unsentEntries:i}=Lp(this._heartbeatsCache.heartbeats),s=_n(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Ce.warn(t),""}}};function Lu(){return new Date().toISOString().substring(0,10)}function Lp(n,e=Np){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Uu(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Uu(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Vs=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return qr()?wu().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let t=await Dp(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return Mu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return Mu(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function Uu(n){return _n(JSON.stringify({version:2,heartbeats:n})).length}function Up(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function xp(n){Pe(new q("platform-logger",e=>new Ls(e),"PRIVATE")),Pe(new q("heartbeat",e=>new $s(e),"PRIVATE")),L(Us,Du,n),L(Us,Du,"esm2017"),L("fire-js","")}xp("");var Fp="firebase",jp="11.10.0";L(Fp,jp,"app");var Vt=new Go("ANGULARFIRE2_VERSION");function zs(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Zr=(n,e)=>{let t=e?[e]:Yr(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},$t=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})($t||{}),ju=Mi()&&typeof Zone<"u"?$t.WARN:$t.SILENT;var Xr=class{zone;delegate;constructor(e,t=Bo){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,t,r)}},Bt=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=f(j);this.outsideAngular=t.runOutsideAngular(()=>new Xr(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Xr(typeof Zone>"u"?void 0:Zone.current,Vo))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$u=!1;function $p(n,e){!$u&&(ju>$t.SILENT||Mi())&&($u=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),ju>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function Vp(n){let e=f(j,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function dt(n){let e=f(j,{optional:!0});return e?e.run(()=>n()):n()}var Bp=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),M(t,()=>dt(()=>n.apply(void 0,r)))),Oe=(n,e,t)=>(t||=e?$t.WARN:$t.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=f(Bt),o=f(yt),a=f(Z)}catch{return $p(n,t),n.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=dt(()=>o.add())),i[u]=Bp(i[u],r,a));let c=Vp(()=>n.apply(this,i));return e?c instanceof J?c.pipe(wi(s.outsideAngular),_i(s.insideAngular),uu(a)):c instanceof Promise?dt(()=>{let u=o.add();return new Promise((l,d)=>{c.then(h=>M(a,()=>dt(()=>l(h))),h=>M(a,()=>dt(()=>d(h)))).finally(u)})}):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:dt(()=>c):c instanceof J?c.pipe(wi(s.outsideAngular),_i(s.insideAngular)):dt(()=>c)});var ht=class{constructor(e){return e}},An=class{constructor(){return Yr()}};function zp(n){return n&&n.length===1?n[0]:new ht(Sn())}var Hs=new b("angularfire2._apps"),Hp={provide:ht,useFactory:zp,deps:[[new et,Hs]]},Wp={provide:An,deps:[[new et,Hs]]};function qp(n){return(e,t)=>{let r=t.get(Et);L("angularfire",Vt.full,"core"),L("angularfire",Vt.full,"app"),L("angular",Ko.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new ht(i)}}function u_(n,...e){return we([Hp,Wp,{provide:Hs,useFactory:qp(n),multi:!0,deps:[j,ce,Bt,...e]}])}var l_=Oe(Bs,!0);var Gp=new Map,Kp={activated:!1,tokenObservers:[]},Jp={initialized:!1,enabled:!1};function oe(n){return Gp.get(n)||Object.assign({},Kp)}function Hu(){return Jp}var Yp="https://content-firebaseappcheck.googleapis.com/v1";var Xp="exchangeDebugToken",Vu={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},E_=1440*60*1e3;var Gs=class{constructor(e,t,r,i,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(e){this.stop();try{this.pending=new ut,this.pending.promise.catch(t=>{}),await Zp(this.getNextRun(e)),this.pending.resolve(),await this.pending.promise,this.pending=new ut,this.pending.promise.catch(t=>{}),await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function Zp(n){return new Promise(e=>{setTimeout(e,n)})}var Qp={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},Be=new se("appCheck","AppCheck",Qp);function Wu(n){if(!oe(n).activated)throw Be.create("use-before-activation",{appName:n.name})}async function qu({url:n,body:e},t){let r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){let d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}let s={method:"POST",body:JSON.stringify(e),headers:r},o;try{o=await fetch(n,s)}catch(d){throw Be.create("fetch-network-error",{originalErrorMessage:d?.message})}if(o.status!==200)throw Be.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw Be.create("fetch-parse-error",{originalErrorMessage:d?.message})}let c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw Be.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});let u=Number(c[1])*1e3,l=Date.now();return{token:a.token,expireTimeMillis:l+u,issuedAtTimeMillis:l}}function Gu(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Yp}/projects/${t}/apps/${r}:${Xp}?key=${i}`,body:{debug_token:e}}}var eg="firebase-app-check-database",tg=1,Ks="firebase-app-check-store";var Qr=null;function ng(){return Qr||(Qr=new Promise((n,e)=>{try{let t=indexedDB.open(eg,tg);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Be.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(Ks,{keyPath:"compositeKey"})}}}catch(t){e(Be.create("storage-open",{originalErrorMessage:t?.message}))}}),Qr)}function rg(n,e){return ig(sg(n),e)}async function ig(n,e){let r=(await ng()).transaction(Ks,"readwrite"),s=r.objectStore(Ks).put({compositeKey:n,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var u;a(Be.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})}function sg(n){return`${n.options.appId}-${n.name}`}var Cn=new $e("@firebase/app-check");function Ws(n,e){return qr()?rg(n,e).catch(t=>{Cn.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Ku(){return Hu().enabled}async function Ju(){let n=Hu();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}var og={error:"UNKNOWN_ERROR"};function ag(n){return zr.encodeString(JSON.stringify(n),!1)}async function Js(n,e=!1,t=!1){let r=n.app;Wu(r);let i=oe(r),s=i.token,o;if(s&&!Pn(s)&&(i.token=void 0,s=void 0),!s){let u=await i.cachedTokenPromise;u&&(Pn(u)?s=u:await Ws(r,void 0))}if(!e&&s&&Pn(s))return{token:s.token};let a=!1;if(Ku())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=qu(Gu(r,await Ju()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let u=await i.exchangeTokenPromise;return await Ws(r,u),i.token=u,{token:u.token}}catch(u){return u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Cn.warn(u.message):t&&Cn.error(u),qs(u)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),s=await oe(r).exchangeTokenPromise}catch(u){u.code==="appCheck/throttled"||u.code==="appCheck/initial-throttle"?Cn.warn(u.message):t&&Cn.error(u),o=u}let c;return s?o?Pn(s)?c={token:s.token,internalError:o}:c=qs(o):(c={token:s.token},i.token=s,await Ws(r,s)):c=qs(o),a&&dg(r,c),c}async function cg(n){let e=n.app;Wu(e);let{provider:t}=oe(e);if(Ku()){let r=await Ju(),{token:i}=await qu(Gu(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=await t.getToken();return{token:r}}}function ug(n,e,t,r){let{app:i}=n,s=oe(i),o={next:t,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&Pn(s.token)){let a=s.token;Promise.resolve().then(()=>{t({token:a.token}),Bu(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>Bu(n))}function Yu(n,e){let t=oe(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Bu(n){let{app:e}=n,t=oe(e),r=t.tokenRefresher;r||(r=lg(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function lg(n){let{app:e}=n;return new Gs(async()=>{let t=oe(e),r;if(t.token?r=await Js(n,!0):r=await Js(n),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{let t=oe(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},Vu.RETRIAL_MIN_WAIT,Vu.RETRIAL_MAX_WAIT)}function dg(n,e){let t=oe(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Pn(n){return n.expireTimeMillis-Date.now()>0}function qs(n){return{token:ag(og),error:n}}var Ys=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=oe(this.app);for(let t of e)Yu(this.app,t.next);return Promise.resolve()}};function hg(n,e){return new Ys(n,e)}function fg(n){return{getToken:e=>Js(n,e),getLimitedUseToken:()=>cg(n),addTokenListener:e=>ug(n,"INTERNAL",e),removeTokenListener:e=>Yu(n.app,e)}}var pg="@firebase/app-check",gg="0.10.1";var mg="app-check",zu="app-check-internal";function vg(){Pe(new q(mg,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return hg(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(zu).initialize()})),Pe(new q(zu,n=>{let e=n.getProvider("app-check").getImmediate();return fg(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),L(pg,gg)}vg();var yg="app-check";var ei=class{constructor(){return Zr(yg)}};var Eg=["localhost","0.0.0.0","127.0.0.1"],k_=typeof window<"u"&&Eg.includes(window.location.hostname);function hl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var fl=hl,pl=new se("auth","Firebase",hl());var oi=new $e("@firebase/auth");function Ig(n,...e){oi.logLevel<=P.WARN&&oi.warn(`Auth (${jt}): ${n}`,...e)}function ni(n,...e){oi.logLevel<=P.ERROR&&oi.error(`Auth (${jt}): ${n}`,...e)}function Ie(n,...e){throw wo(n,...e)}function ft(n,...e){return wo(n,...e)}function gl(n,e,t){let r=Object.assign(Object.assign({},fl()),{[e]:t});return new se("auth","Firebase",r).create(e,{appName:n.name})}function Ne(n){return gl(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wo(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return pl.create(n,...e)}function g(n,e,...t){if(!n)throw wo(e,...t)}function ke(n){let e="INTERNAL ASSERTION FAILED: "+n;throw ni(e),new Error(e)}function We(n,e){n||ke(e)}function eo(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function _g(){return Xu()==="http:"||Xu()==="https:"}function Xu(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function wg(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_g()||Eu()||"connection"in navigator)?navigator.onLine:!0}function Tg(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var pt=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,We(t>e,"Short delay should be less than long delay!"),this.isMobile=vu()||Iu()}get(){return wg()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function To(n,e){We(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var ai=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ke("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ke("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ke("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var bg={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Rg=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sg=new pt(3e4,6e4);function qe(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Ge(n,e,t,r,i={}){return ml(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let a=Tn(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);let u=Object.assign({method:e,headers:c},s);return yu()||(u.referrerPolicy="no-referrer"),n.emulatorConfig&&wn(n.emulatorConfig.host)&&(u.credentials="include"),ai.fetch()(await vl(n,n.config.apiHost,t,a),u)})}async function ml(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},bg),e);try{let i=new to(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw ti(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw ti(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw ti(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw ti(n,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw gl(n,l,u);Ie(n,l)}}catch(i){if(i instanceof ie)throw i;Ie(n,"network-request-failed",{message:String(i)})}}async function Fn(n,e,t,r,i={}){let s=await Ge(n,e,t,r,i);return"mfaPendingCredential"in s&&Ie(n,"multi-factor-auth-required",{_serverResponse:s}),s}async function vl(n,e,t,r){let i=`${e}${t}?${r}`,s=n,o=s.config.emulator?To(n.config,i):`${n.config.apiScheme}://${i}`;return Rg.includes(t)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}function Ag(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var to=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ft(this.auth,"network-request-failed")),Sg.get())})}};function ti(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ft(n,e,r);return i.customData._tokenResponse=t,i}function Zu(n){return n!==void 0&&n.enterprise!==void 0}var no=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ag(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};async function Cg(n,e){return Ge(n,"GET","/v2/recaptchaConfig",qe(n,e))}async function Pg(n,e){return Ge(n,"POST","/v1/accounts:delete",e)}async function ci(n,e){return Ge(n,"POST","/v1/accounts:lookup",e)}function kn(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bo(n,e=!1){let t=ve(n),r=await t.getIdToken(e),i=Ro(r);g(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:kn(Xs(i.auth_time)),issuedAtTime:kn(Xs(i.iat)),expirationTime:kn(Xs(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}}function Xs(n){return Number(n)*1e3}function Ro(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return ni("JWT malformed, contained fewer than 3 sections"),null;try{let i=Hr(t);return i?JSON.parse(i):(ni("Failed to decode base64 JWT payload"),null)}catch(i){return ni("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Qu(n){let e=Ro(n);return g(e,"internal-error"),g(typeof e.exp<"u","internal-error"),g(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Nn(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ie&&Og(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Og({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var ro=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var Mn=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kn(this.lastLoginAt),this.creationTime=kn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function ui(n){var e;let t=n.auth,r=await n.getIdToken(),i=await Nn(n,ci(t,{idToken:r}));g(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?yl(s.providerUserInfo):[],a=kg(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!a?.length,l=c?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Mn(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,d)}async function So(n){let e=ve(n);await ui(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function kg(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yl(n){return n.map(e=>{var{providerId:t}=e,r=Ii(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function Dg(n,e){let t=await ml(n,{},async()=>{let r=Tn({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=await vl(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let c={method:"POST",headers:a,body:r};return n.emulatorConfig&&wn(n.emulatorConfig.host)&&(c.credentials="include"),ai.fetch()(o,c)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Ng(n,e){return Ge(n,"POST","/v2/accounts:revokeToken",qe(n,e))}var Dn=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){g(e.idToken,"internal-error"),g(typeof e.idToken<"u","internal-error"),g(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Qu(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){g(e.length!==0,"internal-error");let t=Qu(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(g(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await Dg(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(g(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(g(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(g(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ke("not implemented")}};function ze(n,e){g(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var He=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Ii(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ro(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mn(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let t=await Nn(this,this.stsTokenManager.getToken(this.auth,e));return g(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return bo(this,e)}reload(){return So(this)}_assign(e){this!==e&&(g(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){g(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await ui(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Q(this.auth.app))return Promise.reject(Ne(this.auth));let e=await this.getIdToken();return await Nn(this,Pg(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,l;let d=(r=t.displayName)!==null&&r!==void 0?r:void 0,h=(i=t.email)!==null&&i!==void 0?i:void 0,m=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=t.photoURL)!==null&&o!==void 0?o:void 0,S=(a=t.tenantId)!==null&&a!==void 0?a:void 0,E=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,_=(u=t.createdAt)!==null&&u!==void 0?u:void 0,O=(l=t.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:N,emailVerified:C,isAnonymous:ee,providerData:G,stsTokenManager:K}=t;g(N&&K,e,"internal-error");let Ke=Dn.fromJSON(this.name,K);g(typeof N=="string",e,"internal-error"),ze(d,e.name),ze(h,e.name),g(typeof C=="boolean",e,"internal-error"),g(typeof ee=="boolean",e,"internal-error"),ze(m,e.name),ze(A,e.name),ze(S,e.name),ze(E,e.name),ze(_,e.name),ze(O,e.name);let Je=new n({uid:N,auth:e,email:h,emailVerified:C,displayName:d,isAnonymous:ee,photoURL:A,phoneNumber:m,tenantId:S,stsTokenManager:Ke,createdAt:_,lastLoginAt:O});return G&&Array.isArray(G)&&(Je.providerData=G.map(Vn=>Object.assign({},Vn))),E&&(Je._redirectEventId=E),Je}static async _fromIdTokenResponse(e,t,r=!1){let i=new Dn;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ui(s),s}static async _fromGetAccountInfoResponse(e,t,r){let i=t.users[0];g(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?yl(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Dn;a.updateFromIdToken(r);let c=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Mn(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(c,u),c}};var el=new Map;function De(n){We(n instanceof Function,"Expected a class definition");let e=el.get(n);return e?(We(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,el.set(n,e),e)}var Mg=(()=>{class n{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){let r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),io=Mg;function ri(n,e,t){return`firebase:${n}:${e}:${t}`}var li=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=ri(this.userKey,i.apiKey,s),this.fullPersistenceKey=ri("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=await ci(this.auth,{idToken:e}).catch(()=>{});return t?He._fromGetAccountInfoResponse(this.auth,t,e):null}return He._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new n(De(io),e,r);let i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),s=i[0]||De(io),o=ri(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let l=await u._get(o);if(l){let d;if(typeof l=="string"){let h=await ci(e,{idToken:l}).catch(()=>{});if(!h)break;d=await He._fromGetAccountInfoResponse(e,h,l)}else d=He._fromJSON(e,l);u!==s&&(a=d),s=u;break}}catch{}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new n(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new n(s,e,r))}};function tl(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(wl(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(El(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(bl(e))return"Blackberry";if(Rl(e))return"Webos";if(Il(e))return"Safari";if((e.includes("chrome/")||_l(e))&&!e.includes("edge/"))return"Chrome";if(Tl(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function El(n=x()){return/firefox\//i.test(n)}function Il(n=x()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _l(n=x()){return/crios\//i.test(n)}function wl(n=x()){return/iemobile/i.test(n)}function Tl(n=x()){return/android/i.test(n)}function bl(n=x()){return/blackberry/i.test(n)}function Rl(n=x()){return/webos/i.test(n)}function Ao(n=x()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Lg(n=x()){var e;return Ao(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Ug(){return _u()&&document.documentMode===10}function Sl(n=x()){return Ao(n)||Tl(n)||Rl(n)||bl(n)||/windows phone/i.test(n)||wl(n)}function Al(n,e=[]){let t;switch(n){case"Browser":t=tl(x());break;case"Worker":t=`${tl(x())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${jt}/${r}`}var so=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}};async function xg(n,e={}){return Ge(n,"GET","/v2/passwordPolicy",qe(n,e))}var Fg=6,oo=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:Fg,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(t=c.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(s=c.containsUppercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var ao=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new di(this),this.idTokenSubscription=new di(this),this.beforeStateQueue=new so(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pl,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=De(t)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await li.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await ci(this,{idToken:e}),r=await He._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Q(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&c?.user&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return g(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ui(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Tg()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Q(this.app))return Promise.reject(Ne(this));let t=e?ve(e):null;return t&&g(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&g(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Q(this.app)?Promise.reject(Ne(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Q(this.app)?Promise.reject(Ne(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(De(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=await xg(this),t=new oo(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new se("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Ng(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&De(e)||this._popupRedirectResolver;g(t,this,"argument-error"),this.redirectPersistenceManager=await li.create(this,[De(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(g(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let c=e.addObserver(t,r,i);return()=>{o=!0,c()}}else{let c=e.addObserver(t);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return g(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Al(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);let i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(Q(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t?.error&&Ig(`Error while retrieving App Check token: ${t.error}`),t?.token}};function mt(n){return ve(n)}var di=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=bu(t=>this.observer=t)}get next(){return g(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var yi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jg(n){yi=n}function Cl(n){return yi.loadJS(n)}function $g(){return yi.recaptchaEnterpriseScript}function Vg(){return yi.gapiScript}function Pl(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var co=class{constructor(){this.enterprise=new uo}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},uo=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var Bg="recaptcha-enterprise",Ol="NO_RECAPTCHA",lo=class{constructor(e){this.type=Bg,this.auth=mt(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{Cg(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let u=new no(c);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(c=>{a(c)})})}function i(s,o,a){let c=window.grecaptcha;Zu(c)?c.enterprise.ready(()=>{c.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Ol)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new co().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&Zu(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=$g();c.length!==0&&(c+=a),Cl(c).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}};async function On(n,e,t,r=!1,i=!1){let s=new lo(n),o;if(i)o=Ol;else try{o=await s.verify(t)}catch{o=await s.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let c=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ho(n,e,t,r,i){var s,o;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=await On(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let c=await On(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("PHONE_PROVIDER")){let a=await On(n,e,t);return r(n,a).catch(async c=>{var u;if(((u=n._getRecaptchaConfig())===null||u===void 0?void 0:u.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let l=await On(n,e,t,!1,!0);return r(n,l)}return Promise.reject(c)})}else{let a=await On(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")}function Co(n,e){let t=Jr(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(je(s,e??{}))return i;Ie(i,"already-initialized")}return t.initialize({options:e})}function zg(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(De);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Po(n,e,t){let r=mt(n);g(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=kl(e),{host:o,port:a}=Hg(e),c=a===null?"":`:${a}`,u={url:`${s}//${o}${c}/`},l=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){g(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),g(je(u,r.config.emulator)&&je(l,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=u,r.emulatorConfig=l,r.settings.appVerificationDisabledForTesting=!0,wn(o)?(gu(`${s}//${o}${c}`),mu("Auth",!0)):i||Wg()}function kl(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Hg(n){let e=kl(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:nl(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:nl(o)}}}function nl(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Wg(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Ln=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ke("not implemented")}_getIdTokenResponse(e){return ke("not implemented")}_linkToIdToken(e,t){return ke("not implemented")}_getReauthenticationResolver(e){return ke("not implemented")}};async function qg(n,e){return Ge(n,"POST","/v1/accounts:signUp",e)}async function Gg(n,e){return Fn(n,"POST","/v1/accounts:signInWithPassword",qe(n,e))}async function Kg(n,e){return Fn(n,"POST","/v1/accounts:signInWithEmailLink",qe(n,e))}async function Jg(n,e){return Fn(n,"POST","/v1/accounts:signInWithEmailLink",qe(n,e))}var Un=class n extends Ln{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ho(e,t,"signInWithPassword",Gg,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Kg(e,{email:this._email,oobCode:this._password});default:Ie(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ho(e,r,"signUpPassword",qg,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return Jg(e,{idToken:t,email:this._email,oobCode:this._password});default:Ie(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Zs(n,e){return Fn(n,"POST","/v1/accounts:signInWithIdp",qe(n,e))}function Yg(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Xg(n){let e=xt(Ft(n)).link,t=e?xt(Ft(e)).deep_link_id:null,r=xt(Ft(n)).deep_link_id;return(r?xt(Ft(r)).link:null)||r||t||e||n}var hi=class n{constructor(e){var t,r,i,s,o,a;let c=xt(Ft(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,d=Yg((i=c.mode)!==null&&i!==void 0?i:null);g(u&&l&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=Xg(e);try{return new n(t)}catch{return null}}};var Dl=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Un._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=hi.parseLink(r);return g(i,"argument-error"),Un._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),fi=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var fo=class extends fi{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};async function Zg(n,e){return Fn(n,"POST","/v1/accounts:signUp",qe(n,e))}var zt=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await He._fromIdTokenResponse(e,r,i),o=rl(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=rl(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function rl(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var po=class n extends ie{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function Nl(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?po._fromErrorAndOperation(n,s,e,r):s})}async function Qg(n,e,t=!1){let r=await Nn(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return zt._forOperation(n,"link",r)}async function em(n,e,t=!1){let{auth:r}=n;if(Q(r.app))return Promise.reject(Ne(r));let i="reauthenticate";try{let s=await Nn(n,Nl(r,i,e,n),t);g(s.idToken,r,"internal-error");let o=Ro(s.idToken);g(o,r,"internal-error");let{sub:a}=o;return g(n.uid===a,r,"user-mismatch"),zt._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&Ie(r,"user-mismatch"),s}}async function Ml(n,e,t=!1){if(Q(n.app))return Promise.reject(Ne(n));let r="signIn",i=await Nl(n,r,e),s=await zt._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function Oo(n,e){return Ml(mt(n),e)}async function Ll(n){let e=mt(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ko(n,e,t){if(Q(n.app))return Promise.reject(Ne(n));let r=mt(n),o=await ho(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zg,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Ll(n),c}),a=await zt._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Do(n,e,t){return Q(n.app)?Promise.reject(Ne(n)):Oo(ve(n),Dl.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ll(n),r})}function jn(n,e,t,r){return ve(n).onIdTokenChanged(e,t,r)}function No(n,e,t){return ve(n).beforeAuthStateChanged(e,t)}function Mo(n){return ve(n).signOut()}var pi="__sak";var gi=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(pi,"1"),this.storage.removeItem(pi),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var tm=1e3,nm=10,rm=(()=>{class n extends gi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Sl(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Ug()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,nm):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},tm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){let r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}return n.type="LOCAL",n})(),Ul=rm;var im=(()=>{class n extends gi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Lo=im;function sm(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var om=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let c=Array.from(a).map(async l=>l(r.origin,o)),u=await sm(c);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function xl(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var go=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=xl("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){let h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function Ee(){return window}function am(n){Ee().location.href=n}function Fl(){return typeof Ee().WorkerGlobalScope<"u"&&typeof Ee().importScripts=="function"}async function cm(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function um(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function lm(){return Fl()?self:null}var jl="firebaseLocalStorageDb",dm=1,mi="firebaseLocalStorage",$l="fbase_key",gt=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Ei(n,e){return n.transaction([mi],e?"readwrite":"readonly").objectStore(mi)}function hm(){let n=indexedDB.deleteDatabase(jl);return new gt(n).toPromise()}function mo(){let n=indexedDB.open(jl,dm);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(mi,{keyPath:$l})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(mi)?e(r):(r.close(),await hm(),e(await mo()))})})}async function il(n,e,t){let r=Ei(n,!0).put({[$l]:e,value:t});return new gt(r).toPromise()}async function fm(n,e){let t=Ei(n,!1).get(e),r=await new gt(t).toPromise();return r===void 0?null:r.value}function sl(n,e){let t=Ei(n,!0).delete(e);return new gt(t).toPromise()}var pm=800,gm=3,mm=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await mo(),this.db)}async _withRetries(t){let r=0;for(;;)try{let i=await this._openDb();return await t(i)}catch(i){if(r++>gm)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fl()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=om._getInstance(lm()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await cm(),!this.activeServiceWorker)return;this.sender=new go(this.activeServiceWorker);let i=await this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||um()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let t=await mo();return await il(t,pi,"1"),await sl(t,pi),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(i=>il(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){let r=await this._withRetries(i=>fm(i,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>sl(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){let t=await this._withRetries(s=>{let o=Ei(s,!1).getAll();return new gt(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),pm)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),Vl=mm;var j_=Pl("rcb"),$_=new pt(3e4,6e4);function vm(n,e){return e?De(e):(g(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var xn=class extends Ln{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Zs(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Zs(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Zs(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function ym(n){return Ml(n.auth,new xn(n),n.bypassAuthState)}function Em(n){let{auth:e,user:t}=n;return g(t,e,"internal-error"),em(t,new xn(n),n.bypassAuthState)}async function Im(n){let{auth:e,user:t}=n;return g(t,e,"internal-error"),Qg(t,new xn(n),n.bypassAuthState)}var vo=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ym;case"linkViaPopup":case"linkViaRedirect":return Im;case"reauthViaPopup":case"reauthViaRedirect":return Em;default:Ie(this.auth,"internal-error")}}resolve(e){We(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){We(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var V_=new pt(2e3,1e4);var _m="pendingRedirect",ii=new Map,yo=class extends vo{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=ii.get(this.auth._key());if(!e){try{let r=await wm(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}ii.set(this.auth._key(),e)}return this.bypassAuthState||ii.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function wm(n,e){let t=Rm(e),r=bm(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}function Tm(n,e){ii.set(n._key(),e)}function bm(n){return De(n._redirectPersistence)}function Rm(n){return ri(_m,n.config.apiKey,n.name)}async function Sm(n,e,t=!1){if(Q(n.app))return Promise.reject(Ne(n));let r=mt(n),i=vm(r,e),o=await new yo(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}var Am=600*1e3,Eo=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Cm(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Bl(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ft(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Am&&this.cachedEventUids.clear(),this.cachedEventUids.has(ol(e))}saveEventToCache(e){this.cachedEventUids.add(ol(e)),this.lastProcessedEventTime=Date.now()}};function ol(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Bl({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function Cm(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bl(n);default:return!1}}async function Pm(n,e={}){return Ge(n,"GET","/v1/projects",e)}var Om=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,km=/^https?/;async function Dm(n){if(n.config.emulator)return;let{authorizedDomains:e}=await Pm(n);for(let t of e)try{if(Nm(t))return}catch{}Ie(n,"unauthorized-domain")}function Nm(n){let e=eo(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!km.test(t))return!1;if(Om.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Mm=new pt(3e4,6e4);function al(){let n=Ee().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function Lm(n){return new Promise((e,t)=>{var r,i,s;function o(){al(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{al(),t(ft(n,"network-request-failed"))},timeout:Mm.get()})}if(!((i=(r=Ee().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ee().gapi)===null||s===void 0)&&s.load)o();else{let a=Pl("iframefcb");return Ee()[a]=()=>{gapi.load?o():t(ft(n,"network-request-failed"))},Cl(`${Vg()}?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw si=null,e})}var si=null;function Um(n){return si=si||Lm(n),si}var xm=new pt(5e3,15e3),Fm="__/auth/iframe",jm="emulator/auth/iframe",$m={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vm=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bm(n){let e=n.config;g(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?To(e,jm):`https://${n.config.authDomain}/${Fm}`,r={apiKey:e.apiKey,appName:n.name,v:jt},i=Vm.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Tn(r).slice(1)}`}async function zm(n){let e=await Um(n),t=Ee().gapi;return g(t,n,"internal-error"),e.open({where:document.body,url:Bm(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$m,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=ft(n,"network-request-failed"),a=Ee().setTimeout(()=>{s(o)},xm.get());function c(){Ee().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}var Hm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wm=500,qm=600,Gm="_blank",Km="http://localhost",vi=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Jm(n,e,t,r=Wm,i=qm){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},Hm),{width:r.toString(),height:i.toString(),top:s,left:o}),u=x().toLowerCase();t&&(a=_l(u)?Gm:t),El(u)&&(e=e||Km,c.scrollbars="yes");let l=Object.entries(c).reduce((h,[m,A])=>`${h}${m}=${A},`,"");if(Lg(u)&&a!=="_self")return Ym(e||"",a),new vi(null);let d=window.open(e||"",a,l);g(d,n,"popup-blocked");try{d.focus()}catch{}return new vi(d)}function Ym(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Xm="__/auth/handler",Zm="emulator/auth/handler",Qm=encodeURIComponent("fac");async function cl(n,e,t,r,i,s){g(n.config.authDomain,n,"auth-domain-config-required"),g(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:jt,eventId:i};if(e instanceof fi){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",Tu(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[l,d]of Object.entries(s||{}))o[l]=d}if(e instanceof fo){let l=e.getScopes().filter(d=>d!=="");l.length>0&&(o.scopes=l.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let l of Object.keys(a))a[l]===void 0&&delete a[l];let c=await n._getAppCheckToken(),u=c?`#${Qm}=${encodeURIComponent(c)}`:"";return`${ev(n)}?${Tn(a).slice(1)}${u}`}function ev({config:n}){return n.emulator?To(n,Zm):`https://${n.authDomain}/${Xm}`}var Qs="webStorageSupport",Io=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Lo,this._completeRedirectFn=Sm,this._overrideRedirectResult=Tm}async _openPopup(e,t,r,i){var s;We((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=await cl(e,t,r,eo(),i);return Jm(e,o,xl())}async _openRedirect(e,t,r,i){await this._originValidation(e);let s=await cl(e,t,r,eo(),i);return am(s),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(We(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await zm(e),r=new Eo(e);return t.register("authEvent",i=>(g(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qs,{type:Qs},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Qs];o!==void 0&&t(!!o),Ie(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Dm(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Sl()||Il()||Ao()}},zl=Io;var ul="@firebase/auth",ll="1.10.8";var _o=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){g(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function tv(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function nv(n){Pe(new q("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;g(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Al(n)},u=new ao(r,i,s,c);return zg(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Pe(new q("auth-internal",e=>{let t=mt(e.getProvider("auth").getImmediate());return(r=>new _o(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),L(ul,ll,tv(n)),L(ul,ll,"esm2017")}var rv=300,iv=As("authIdTokenMaxAge")||rv,dl=null,sv=n=>async e=>{let t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>iv)return;let i=t?.token;dl!==i&&(dl=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Uo(n=Sn()){let e=Jr(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Co(n,{popupRedirectResolver:zl,persistence:[Vl,Ul,Lo]}),r=As("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=sv(s.toString());No(t,o,()=>o(t.currentUser)),jn(t,a=>o(a))}}let i=Rs("auth");return i&&Po(t,`http://${i}`),t}function ov(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}jg({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=ft("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",ov().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});nv("Browser");function ql(n){return new J(function(e){var t=jn(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var Gl="auth",$n=class{constructor(e){return e}},xo=class{constructor(){return Zr(Gl)}};var Fo=new b("angularfire2.auth-instances");function Gv(n,e){let t=zs(Gl,n,e);return t&&new $n(t)}function Kv(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new $n(r)}}var Jv={provide:xo,deps:[[new et,Fo]]},Yv={provide:$n,useFactory:Gv,deps:[[new et,Fo],ht]};function Dw(n,...e){return L("angularfire",Vt.full,"auth"),we([Yv,Jv,{provide:Fo,useFactory:Kv(n),multi:!0,deps:[j,ce,Bt,An,[new et,ei],...e]}])}var Nw=Oe(ql,!0);var Mw=Oe(ko,!0,2);var Lw=Oe(Uo,!0);var Uw=Oe(Do,!0,2);var xw=Oe(Mo,!0,2);export{od as a,ec as b,Dd as c,Nd as d,ge as e,ds as f,me as g,Br as h,pf as i,vf as j,yf as k,_I as l,wn as m,gu as n,wI as o,mu as p,x as q,TI as r,ie as s,je as t,ve as u,q as v,P as w,$e as x,Pe as y,Jr as z,Q as A,jt as B,Sn as C,L as D,gI as E,mI as F,Vt as G,zs as H,Zr as I,Bt as J,Oe as K,ht as L,An as M,u_ as N,l_ as O,ei as P,$n as Q,xo as R,Dw as S,Nw as T,Mw as U,Lw as V,Uw as W,xw as X};
